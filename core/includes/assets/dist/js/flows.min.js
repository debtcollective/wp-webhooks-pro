!function(t){function e(e){for(var i,r,s=e[0],l=e[1],d=e[2],c=0,p=[];c<s.length;c++)r=s[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(u&&u(e);p.length;)p.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={0:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var u=l;a.push([165,1]),n()}([,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{},data:function(){return{}},mounted:function(){this.$nextTick((function(){}))}}},,,,,,,,function(t,e){t.exports=jQuery},,,,,,,,function(t,e,n){"use strict";n.r(e);var i=n(22),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(284))&&i.__esModule?i:{default:i};e.default={components:{AddNew:o.default},props:{},data:function(){return{pageHeading:""}},mounted:function(){},methods:{}}},function(t,e,n){"use strict";n.r(e);var i=n(24),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(285)),o=s(n(297)),a=s(n(301)),r=s(n(302));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{FlowSteps:i.default,Sidebar:o.default,IntegrationsModal:a.default,AddConditionModal:r.default},props:{},data:function(){return{title:""}},mounted:function(){},methods:{}}},function(t,e,n){"use strict";n.r(e);var i=n(26),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(286)),o=a(n(295));function a(t){return t&&t.__esModule?t:{default:t}}e.default={components:{FlowStepTrigger:i.default,FlowStepAction:o.default},props:{},data:function(){return{}},mounted:function(){this.$nextTick((function(){}))},methods:{updateFlowStepData:function(t,e,n){var i="";("trigger"===t||"action"===t)&&(i="triggers"),i&&this.$root.flowData.flow_config[i]&&(this.$root.flowData.flow_config[i][e].trigger=n.trigger?n.trigger:"",this.$root.flowData.flow_config[i][e].fields=n.fields?n.fields:{})}},computed:{triggers:function(){return this.$root.flowData.flow_config.triggers},actions:function(){return this.$root.flowData.flow_config.actions}}}},function(t,e,n){"use strict";n.r(e);var i=n(28),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(154)),o=a(n(158));function a(t){return t&&t.__esModule?t:{default:t}}e.default={components:{FlowStepHeader:o.default},mixins:[i.default],props:{},data:function(){return{dStepData:{name:"",integration:"",trigger:"",subSteps:[],testType:"",log:"",variableData:{},fields:{}}}},mounted:function(){this.$nextTick((function(){}))},methods:{},computed:{integrationSettings:function(){return this.$root.getIntegrationTriggerSettings(this.dStepData.integration,this.dStepData.trigger)}},watch:{}}},function(t,e,n){"use strict";n.r(e);var i=n(30),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{icon:{type:Object},type:{type:String,default:"trigger"},typeText:{type:String}},data:function(){return{parentStep:"",dName:"",showNameField:!1}},mounted:function(){var t=this;this.$nextTick((function(){t.parentStep=t.$parent}))},methods:{onEdit:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.stopPropagation(),e?this.parentStep.collapsed||(this.parentStep.collapsed=!0):this.parentStep.collapsed=!this.parentStep.collapsed},onFocus:function(){this.dName=this.$root.jsonDetach(this.parentStep.dStepData.name)},onBlur:function(){this.showNameField=!1,this.dName!==this.parentStep.dStepData.name&&this.$emit("update-name"),this.dName=""},onEditName:function(){var t=this;this.showNameField=!0,setTimeout((function(){t.$refs["name-input"].focus()}),200)},onEnter:function(t){if(13==t.keyCode)return t.preventDefault(),this.$refs["name-input"].blur(),!1}},computed:{position:function(){return this.parentStep.stepIndex+("action"===this.type?2:1)}}}},function(t,e,n){"use strict";n.r(e);var i=n(32),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(154)),o=r(n(158)),a=r(n(296));function r(t){return t&&t.__esModule?t:{default:t}}e.default={components:{FlowStepHeader:o.default,FlowStepConditions:a.default},mixins:[i.default],props:{},data:function(){return{dStepData:{name:"",integration:"",action:"",subSteps:[],testType:"",log:"",conditionals:{relation:"all",conditions:[]},variableData:{},fields:{}},chooseOptions:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.dStepData.name||(t.dStepData.name=t.integrationData.name)}))},methods:{},computed:{stepParameter:function(){return this.$root.getIntegrationActionParameter(this.dStepData.integration,this.dStepData.action)},integrationSettings:function(){return this.$root.getIntegrationActionSettings(this.dStepData.integration,this.dStepData.action)}},watch:{}}},function(t,e,n){"use strict";n.r(e);var i=n(34),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{stepId:"",stepIndex:"",stepType:""},data:function(){return{isLoading:!0,parentStep:"",conditions:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.parentStep=t.$parent,t.isLoading=!1,t.$parent.dStepData.conditionals&&t.$parent.dStepData.conditionals.conditions&&(t.conditions=t.$parent.dStepData.conditionals.conditions),t.$events.$on("step-condition:updated",(function(e,n,i){if(t.stepId===e){var o=t.$refs["condition-"+n+"-"+e][0];o&&void 0!==o&&(t.isLoading=!0,o.classList.add("wpwh-is-loading"),setTimeout((function(){t.isLoading=!1,o.classList.remove("wpwh-is-loading")}),1e3))}}))}))},methods:{generateConditionWithVars:function(t){var e=t.value,n=t.mappings,i={},o=e;for(var a in n)if(Object.hasOwnProperty.call(n,a)){var r=n[a],s=this.generateConditionMappingHTML(r);i[a]=this.generateConditionMappingHTML(r),o=o.replace("{{"+a+"}}",'<div class="wpwh-flows-condition__mapping">'+s+"</div>")}return o},generateConditionMappingHTML:function(t){var e=this.generateMappingOutputObject(t);return"<span>\n          <strong>"+(e.index?e.index+": ":"")+e.location+"</strong>\n          <span><em>"+e.value+"</em></span>\n        </span>"},generateMappingOutputObject:function(t){var e={index:"",location:"",value:""};return t.mapping&&t.mapping.length>0&&(e.location=t.mapping.join(" > ")),t.action?e.index=this.$root.getActionsKeys().indexOf(t.action)+2:t.trigger&&(e.index=1),t.value&&(e.value=t.value),e}}}},function(t,e,n){"use strict";n.r(e);var i=n(36),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(298)),o=a(n(299));function a(t){return t&&t.__esModule?t:{default:t}}e.default={components:{PublishBox:i.default,SelectedSteps:o.default},props:{},data:function(){return{}},mounted:function(){},methods:{}}},function(t,e,n){"use strict";n.r(e);var i=n(38),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{},data:function(){return{date:"",loading:!1,successMsg:"",errorMsg:""}},mounted:function(){var t=this;t.$nextTick((function(){t.date=t.$root.flow.flow_date,t.$events.$on("save-flow:success",(function(e){t.showSuccessMsg(e)})),t.$events.$on("save-flow:error",(function(e){t.showErrorMsg(e)})),t.$events.$on("delete-flow:success",(function(e){t.showSuccessMsg(e),setTimeout((function(){window.location.href="/wp-admin/options-general.php?page=wp-webhooks-pro&wpwhprovrs=flows"}),1e3)})),t.$events.$on("delete-flow:error",(function(e){t.showErrorMsg(e)})),t.$events.$on("loading-flow:started",(function(){return t.loading=!0})),t.$events.$on("loading-flow:done",(function(e){t.loading=!1}))}))},methods:{showSuccessMsg:function(t){var e=this;this.successMsg=t,setTimeout((function(){e.successMsg=""}),3e3)},showErrorMsg:function(t){var e=this;this.errorMsg=t,setTimeout((function(){e.errorMsg=""}),3e3)},onDelete:function(){var t=this;this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&t.$root.deleteFlow()}))}}}},function(t,e,n){"use strict";n.r(e);var i=n(40),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(300))&&i.__esModule?i:{default:i};e.default={components:{SelectedStep:o.default},props:{},data:function(){return{title:""}},mounted:function(){},methods:{}}},function(t,e,n){"use strict";n.r(e);var i=n(42),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{item:{required:!0,type:Object},stepData:{type:Object},stepId:{required:!0,type:String},stepIndex:{required:!0,type:Number},stepType:{type:String,default:function(){return"trigger"}},stepNumber:[Number,String]},data:function(){return{}},mounted:function(){this.$nextTick((function(){}))},methods:{},computed:{integration:function(){return this.$root.filterIntegration(this.item.integration)},id:function(){return("action"===this.stepType?"#flowStepAction-":"#flowStepTrigger-")+this.stepId}}}},function(t,e,n){"use strict";n.r(e);var i=n(44),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(159))&&i.__esModule?i:{default:i};e.default={components:{Integrations:o.default},props:{title:{type:[String],default:function(){return this.$root.texts.triggers_modal_title}}},data:function(){return{}},mounted:function(){},methods:{beforeClose:function(t){this.$root.integrationsModalFlowType="",this.$root.integrationsModalFlowStepIndex="",this.$root.integrationsModalFlowInsertAfterIndex="",this.$root.integrationsModalSelected=""}}}},function(t,e,n){"use strict";n.r(e);var i=n(46),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{title:{type:[String],default:function(){return this.$root.texts.triggers_modal_title}}},data:function(){return{mappingInfo:{fields:{name:{first:""}}}}},mounted:function(){},methods:{}}},function(t,e,n){"use strict";n.r(e);var i=n(48),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=(i=n(159))&&i.__esModule?i:{default:i};e.default={components:{Integrations:a.default},props:{title:{type:[String],default:function(){return"Add condition"}}},data:function(){return{initialized:!1,dCondition:{condition_input:{name:"condition_input",value:"",mappings:{}},condition_operator:{name:"condition_operator",value:"is"},condition_value:{name:"condition_value",value:"",mappings:{}}}}},mounted:function(){this.$nextTick((function(){}))},methods:{beforeClose:function(t){},beforeOpen:function(t){this.initialized=!1;var e=this,n=e.$root.flowConditionsModal,i=n.action,o=n.conditionId,a=n.stepId,r=n.stepIndex,s=n.stepType;if("edit"==i&&""!==o&&""!==a&&""!==r){if("action"===s){var l=e.$root.flowData.flow_config.actions[a].conditionals.conditions[o];l?(l.condition_input&&(e.dCondition.condition_input.value=l.condition_input.value),l.condition_operator&&(e.dCondition.condition_operator.value=l.condition_operator.value),l.condition_value&&(e.dCondition.condition_value.value=l.condition_value.value)):e.reset()}else e.reset();e.initialized=!0}else e.reset(),e.initialized=!0},reset:function(){this.dCondition.condition_input.value="",this.dCondition.condition_input.mappings={},this.dCondition.condition_value.value="",this.dCondition.condition_value.mappings={},this.dCondition.condition_operator.value=this.$root.flowConditionLabels.default},updateOperator:function(t){"object"===(void 0===t?"undefined":o(t))&&"string"!=typeof t?this.dCondition.condition_operator.value=t[0]:this.dCondition.condition_operator.value=t},updateConditionInput:function(t,e){this.dCondition.condition_input.value=t,this.dCondition.condition_input.mappings=e},addInputMapping:function(t,e,n,i,o,a){this.addMapping("condition_input",t,e,n,i,o,a)},deleteInputMapping:function(t){this.deleteMapping("condition_input",t)},deleteInputMappings:function(){},updateConditionValue:function(t,e){this.dCondition.condition_value.value=t,this.dCondition.condition_value.mappings=e},addValueMapping:function(t,e,n,i,o,a){this.addMapping("condition_value",t,e,n,i,o,a)},deleteValueMapping:function(t){this.deleteMapping("condition_value",t)},deleteValueMappings:function(){},addMapping:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"condition_input",e=arguments[1],n=arguments[2],i=arguments[3],o=arguments[4],a=arguments[5],r=this.dCondition[t].mappings;r||(r={}),r[e]={value:n,mapping:i},r[e][a]=o,Vue.set(this.dCondition[t],"mappings",r)},deleteMapping:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"condition_input",e=arguments[1],n=this.dCondition[t].mappings;n&&n[e]&&this.$delete(n,e)}}}},function(t,e,n){"use strict";n.r(e);var i=n(50),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{icon:{required:!0,type:String},fill:{type:String},stroke:{type:String}},data:function(){return{}},mounted:function(){},methods:{getFill:function(t){return this.fill?this.fill:t},getStroke:function(t){return this.stroke?this.stroke:t}},computed:{}}},function(t,e,n){"use strict";n.r(e);var i=n(52),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{text:{type:[String],required:!1,default:function(){return"Loading…"}},inline:{type:Boolean,default:!1},hideSpinner:{type:[Boolean],required:!1},hideText:{type:[Boolean],required:!1}},data:function(){return{}},mounted:function(){},methods:{},computed:{}}},function(t,e,n){"use strict";n.r(e);var i=n(54),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{heading:{type:String,default:"Choose trigger"},showCompleted:{type:Boolean,default:!1}},data:function(){return{}},methods:{}}},function(t,e,n){"use strict";n.r(e);var i=n(56),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{id:{required:!0,type:String},label:String,description:{type:[String],default:""},required:{type:Boolean,default:function(){return!1}}},data:function(){return{value:""}},mounted:function(){},methods:{}}},function(t,e,n){"use strict";n.r(e);var i=n(58),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{fieldData:{required:!0,type:Object},value:{required:!1},readonly:{required:!1,type:[String]},id:{required:!0,type:[String]},nname:{required:!0,type:[String]},integration:{required:!0,type:[String]},stepType:{required:!0,type:[String]}},data:function(){return{fieldType:"text",dFieldData:{}}},mounted:function(){var t=this;this.$nextTick((function(){t.dFieldData=t.$root.jsonDetach(t.fieldData),t.dFieldData.required&&t.$emit("required-field",t.dFieldData.required),t.fieldType=t.dFieldData.type}))},methods:{updateValue:function(t){this.$emit("input",t)},updateSelectValue:function(t){this.$emit("change",t)}},computed:{isSelect:function(){return"select"===this.fieldType},isSelectAjax:function(){return"select"===this.fieldType&&this.dFieldData.query},isWysiwyg:function(){return"wysiwyg"===this.fieldType},isVariable:function(){return"text"===this.fieldType&&this.dFieldData.variable},isLinks:function(){return"links"===this.fieldType},isRepeater:function(){return"repeater"===this.fieldType},isToggle:function(){return"checkbox"===this.fieldType},isRadio:function(){return"radio"===this.fieldType},isTextarea:function(){return"textarea"===this.fieldType},isInput:function(){var t=this.fieldType;return"text"===t||"url"===t||"email"===t||"phone"===t||"number"===t},hasType:function(){return this.fieldType}}}},function(t,e,n){"use strict";n.r(e);var i=n(60),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(5))&&i.__esModule?i:{default:i};e.default={mixins:o.default,components:{},props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},cols:{type:Number,default:function(){return 30}},rows:{type:Number,default:function(){return 7}}},data:function(){return{editor:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initWysiwyg()}))},methods:{initWysiwyg:function(){var t=this;t.$root.wpEditor&&t.$root.wpEditor.initialize(t.id,{tinymce:{init_instance_callback:function(e){t.editor=e,t.value&&e.insertContent(t.value),e.on("Change",(function(e){t.updateValue(e)}))}},mediaButtons:!0,quicktags:!0})},updateValue:function(t){this.$emit("input",this.editor.getContent())}},computed:{}}},function(t,e,n){"use strict";n.r(e);var i=n(62),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(310),a=l(n(93));n(311),n(314);var r=l(n(315)),s=l(n(5));function l(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:s.default,components:{codemirror:o.codemirror,VariableFieldDropdown:r.default},props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},index:{type:[Number,String],default:""}},data:function(){return{initialized:!1,dropdownLoading:!1,showDropdown:!1,dropdownItems:[],mappings:{},parentStep:"",parentStepField:"",parentFormField:"",isNestedInRepeater:!1,cmOptions:{lineNumbers:0,tabSize:4,value:this.value,mode:"default",dragDrop:!1,noNewlines:!0,viewportMargin:1/0,lineWrapping:!0,autoRefresh:!0,scrollbarStyle:null}}},mounted:function(){var t=this,e=this;this.$nextTick((function(){window.cmInstance=e.codemirror,e.parentStep=e.$parent.$parent,e.parentFormField=e.$parent,e.parentStep.stepId||(e.parentStep=e.$parent.$parent.$parent,e.parentFormField=e.$parent.$parent,e.isNestedInRepeater=!0),e.parentStep&&e.parentStep.dStepData&&(e.parentStepField=e.parentStep.dStepData.fields[e.parentFormField.fieldData.id],t.$events.$on("update-variable-dropdown",(function(e){t.initialized=!1})))}))},methods:{insertVariableIntoEditor:function(t,e){e&&e.title,e&&e.example;var n=e?e.value:"",i="{{"+("common"===t?this.$root.base64encode("{common}{"+n+"}"):this.$root.base64encode("{"+t+"}"+n))+"}}";this.insertTextAtCursor(i),this.codemirror.focus()},renderVariables:function(){for(var t=this,e=this.codemirror.getSearchCursor(/\{\{(.*?)\}\}/),n=[],i=function(){var i={from:e.from(),to:e.to()},o=t.codemirror.getRange(i.from,i.to).replace("{{","").replace("}}",""),a=t.$root.base64decode(o);n.push(o);var r,s=a.match(/\{(.*?)\}/gi),l=s?s.map((function(t){return t.replace(/[\{\}]/g,"")})):"",d=l?l.shift().replace("{","").replace("}",""):"",u={},c="",p="action",f=void 0,h=!1,g=t.$root.getActionsKeys();"common"!==d&&("trigger"===t.parentStep.stepType||"action"===t.parentStep.stepType&&"trigger"!==p&&g.indexOf(d)>=g.indexOf(t.parentStep.stepId))&&(h=!0),"common"===d?(u=t.$root.commonTags,c="Common"):t.$root.flowData.flow_config.actions[d]?(u=t.$root.flowData.flow_config.actions[d].variableData,c=g.indexOf(d)+2):t.$root.flowData.flow_config.triggers[d]&&(u=t.$root.flowData.flow_config.triggers[d].variableData,c=1,p="trigger"),r="common"===d?t.$root.commonTags[l[0]]?t.$root.commonTags[l[0]].example:"":t.locateValue(l,u),h?f=t.createHtmlNode("Invalid variable",""):(t.addMappingToParentStep(o,a,l,r,d,p),"common"===d&&(l=l.map((function(t){return t.replace("common:","")}))),f=l&&l.length?t.createHtmlNode(c+": "+l.join(" > "),r):t.createHtmlNode(o,r));var v=t.codemirror.markText(i.from,i.to,{replacedWith:f});f.addEventListener("click",(function(){if(!f.classList.contains("flows-var--cm-focused")){f.classList.add("flows-var--cm-focused");var e=function(){f.classList.remove("flows-var--cm-focused"),document.removeEventListener("mouseup",n),document.removeEventListener("copy",i),document.removeEventListener("keydown",a),document.removeEventListener("keydown",r)},n=function(t){f===t.target||f.contains(t.target)||e()};document.addEventListener("mouseup",n);var i=function(n){e(),t.$root.copyToClipboard("{{"+o+"}}")};document.addEventListener("copy",i);var a=function(n){var i=n.keyCode||n.charCode;if(8==i||46==i){var a=v.find();v.clear(),t.codemirror.replaceRange("",a.from,a.to),t.removeMappingFromParentStep(o),e()}};document.addEventListener("keydown",a);var r=function(n){var i=n.keyCode||n.charCode;if(37==i||39==i){e();var o=v.find(),a=void 0;37==i&&(a=o.from),39==i&&(a=o.to),t.codemirror.focus(),t.codemirror.setCursor(a)}};document.addEventListener("keydown",r)}}))};e.findNext();)i();if(this.isNestedInRepeater)this.$emit("delete-mappings",this.index,n);else for(var o in this.parentStepField.mappings)n.includes(o)||this.$delete(this.parentStepField.mappings,o)},locateValue:function(t,e){for(var n="",o=0;o<t.length;o++){var a=t[o];if("object"===(void 0===e?"undefined":i(e))&&e[a]&&"string"==typeof(e=e[a])){n=e;break}}return n},locateValueCommon:function(t,e){for(var n="",o=0;o<t.length;o++){var a=t[o];if("object"===(void 0===e?"undefined":i(e))&&e[a]&&"string"==typeof(e=e[a])){n=e;break}}return n},addMappingToParentStep:function(t,e,n,i,o,a){if(this.parentStepField&&o&&!this.isNestedInRepeater){var r=this.parentStepField.mappings;r||(r={}),r[t]={value:i,mapping:n},r[t][a]=o,Vue.set(this.parentStep.dStepData.fields[this.parentFormField.fieldData.id],"mappings",r)}this.$emit("add-mapping",t,i,n,o,a,this.index)},removeMappingFromParentStep:function(t){if(!this.isNestedInRepeater){var e=this.parentStep.dStepData.fields[this.parentFormField.fieldData.id];e&&e.mappings&&e.mappings[t]&&this.$delete(e.mappings,t)}this.$emit("delete-mapping",t,this.index)},insertTextAtCursor:function(t){var e=this.codemirror.getDoc(),n=e.getCursor();e.replaceRange(t,n)},createHtmlNode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("span"),i=document.createElement("strong"),o=document.createElement("span");return i.appendChild(document.createTextNode(t)),o.appendChild(document.createTextNode(this.$root.truncate(e,20))),o.setAttribute("title",e),n.classList.add("flows-var"),n.appendChild(i),n.appendChild(o),n},onCmReady:function(t){var e=this;setTimeout((function(){e.renderVariables()}),500)},onCmFocus:function(t){this.initialized||this.initializeDropdown(),this.showDropdown=!0},onCmBlur:function(t){},onCmCodeChange:(0,a.default)((function(t){this.code=t,this.$emit("input",t,this.mappings),this.renderVariables()}),200),initializeDropdown:function(){var t=this;this.initialized=!0,this.dropdownLoading=!0,this.dropdownItems=[],this.$root.commonTags&&this.prepareCommonDropdownItems(this.$root.commonTags),this.prepareDropdownItems(this.$root.flowData.flow_config.triggers),"action"!==this.parentStep.stepType&&void 0!==this.parentStep.stepType||this.prepareDropdownItems(this.$root.flowData.flow_config.actions,1),setTimeout((function(){t.dropdownLoading=!1}),500)},hideDropdown:function(){this.showDropdown=!1},prepareCommonDropdownItems:function(t){var e=[];for(var n in t)Object.hasOwnProperty.call(t,n)&&e.push({title:t[n].label||n,value:n,example:t[n].example});this.pushItemToDropdown("common",{},"Common tags",e)},prepareDropdownItems:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this,i=e;for(var o in t)if(Object.hasOwnProperty.call(t,o)){var a=t[o];if(n.parentStep.stepId===o)break;i++;var r=n.$root.validateResponseObject(a.variableData),s=[],l=n.$root.getIntegrationData(a.integration),d=l?l.icon:{},u=l?l.name:"",c=i+". "+u;for(var p in r)Object.hasOwnProperty.call(r,p)&&s.push({title:p,value:p,example:r[p]});n.pushItemToDropdown(o,d,c,s)}},pushItemToDropdown:function(t,e,n,i){var o={id:t,title:n,subItems:i};e&&e.src&&(o.icon='<img class="wpwh-trigger-search__item-image" src="'+e.src+'">'),this.dropdownItems.push(o)}},computed:{codemirror:function(){return this.$refs.editor.codemirror}}}},function(t,e,n){"use strict";n.r(e);var i=n(64),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(93)),o=a(n(316));function a(t){return t&&t.__esModule?t:{default:t}}e.default={components:{VariableFieldDropdownItem:o.default},props:{items:{type:Array,default:function(){return[]}}},data:function(){return{s:""}},mounted:function(){this.$nextTick((function(){}))},methods:{onSelect:function(t,e){this.$emit("variable-selected",t,e)},onSearch:(0,i.default)((function(t){var e=t.target.value;this.s=e}),200)}}},function(t,e,n){"use strict";n.r(e);var i=n(66),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(317))&&i.__esModule?i:{default:i};e.default={components:{VariableFieldDropdownSubItem:o.default},props:{icon:{type:String},title:{required:!0,type:String},subItems:{type:Array}},data:function(){return{opened:!1}},mounted:function(){this.$nextTick((function(){}))},methods:{selectSubItem:function(t){this.$emit("variable-selected",t)},onClick:function(){this.opened=!this.opened}},computed:{}}},function(t,e,n){"use strict";n.r(e);var i=n(68),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{type:{type:String},example:{type:[String,Number,Boolean]},value:{required:!0,type:String},title:{type:String},subItem:{type:Object}},data:function(){return{}},mounted:function(){this.$nextTick((function(){}))},methods:{selectSubItem:function(t){this.$emit("variable-selected",t)}},computed:{showDropdownItem:function(){var t=this.$parent.$parent.s;return!t||this.title.includes(t.replace(/[\s\t]/,"_"))||this.title.includes(t.replace(/[\s\t]/,"-"))||this.title.includes(t)},modifiedExample:function(){return this.example.length>80?this.example.slice(0,80)+"…":this.example}}}},function(t,e,n){"use strict";n.r(e);var i=n(70),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={inheritAttrs:!1,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},integration:{required:!0,type:[String]},stepType:{required:!0,type:[String]},label:{},placeholder:{required:!1,type:[String],default:"Please select a value"},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},choices:{type:[Array,Object],default:function(){return[]}},multiple:{type:[Boolean],default:!1},query:{default:!1}},data:function(){return{dPlaceholder:"",dValue:"",dChoices:[],settingsLoaded:!1,settings:{theme:"wpwh-default",allowClear:!0}}},mounted:function(){var e=this;if(this.dPlaceholder=this.placeholder,this.dValue=this.value,this.$root.isObject(this.choices)){for(var o in this.choices)if(Object.hasOwnProperty.call(this.choices,o)){var a=this.choices[o],r={};if("string"==typeof a)r.id=o,r.text=a;else if("object"===(void 0===a?"undefined":i(a))){if(!a.value){this.dPlaceholder=a.label;continue}r.id=a.value,r.text=a.label}this.dChoices.push(r)}}else Array.isArray(this.choices)&&this.choices.forEach((function(t){var n={};n.id=t.value,n.text=t.label,e.dChoices.push(n)}));if(this.$set(this.settings,"multiple",this.multiple),this.query){var s={action:"ironikus_flows_handler",ironikusflows_nonce:ironikusflows.ajax_nonce,handler:"get_field_query",language:ironikusflows.language,query:this.query,webhook_type:this.stepType,webhook_group:this.$root.flowData.flow_trigger,webhook_integration:this.integration,webhook_field:this.nname};this.dValue?t.ajax({url:ironikusflows.ajax_url,method:"POST",dataType:"json",delay:250,data:n({},s,{selected:this.dValue})}).then((function(t){e.dChoices=t.data.data.choices})).always((function(){e.loadSettings()})):this.loadSettings(),this.$set(this.settings,"ajax",{url:ironikusflows.ajax_url,method:"POST",dataType:"json",delay:250,data:function(t){return n({field_search:t.term,page:t.page||1},s)},processResults:function(t,e){var n=t.data.data;return{results:n.choices,pagination:{more:n.page*n.per_page-n.per_page+n.item_count<n.total}}},cache:!0})}else this.loadSettings()},methods:{onChange:function(t){this.dValue=t,this.$emit("input",t)},loadSettings:function(){var t=this;setTimeout((function(){t.settingsLoaded=!0}),300)}}}}).call(this,n(13))},function(t,e,n){"use strict";n.r(e);var i=n(72),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};n(320),e.default={name:"Select2",data:function(){return{select2:null}},model:{event:"change",prop:"value"},props:{id:{type:String,default:""},name:{type:String,default:""},placeholder:{type:String,default:""},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},settings:{type:Object,default:function(){}},value:null},watch:{options:function(t){this.setOption(t)},value:function(t){this.setValue(t)}},methods:{setOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.select2.empty(),this.select2.select2(i({placeholder:this.placeholder},this.settings,{data:t})),this.setValue(this.value)},setValue:function(t){t instanceof Array?this.select2.val([].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))):this.select2.val([t]),this.select2.trigger("change")}},mounted:function(){var e=this;this.select2=t(this.$el).find("select").select2(i({placeholder:this.placeholder},this.settings,{data:this.options})).on("select2:select select2:unselect",(function(t){e.$emit("change",e.select2.val()),e.$emit("select",t.params.data)})).on("select2:closing",(function(t){e.$emit("closing",t)})).on("select2:close",(function(t){e.$emit("close",t)})).on("select2:opening",(function(t){e.$emit("opening",t)})).on("select2:open",(function(t){e.$emit("open",t)})).on("select2:clearing",(function(t){e.$emit("clearing",t)})).on("select2:clear",(function(t){e.$emit("clear",t)})),this.setValue(this.value)},beforeDestroy:function(){this.select2.select2("destroy")}}}).call(this,n(13))},function(t,e,n){"use strict";n.r(e);var i=n(74),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(5))&&i.__esModule?i:{default:i};e.default={mixins:o.default,inheritAttrs:!1,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},readonly:{required:!1,type:[String]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1}},data:function(){return{dValue:"",showLoader:!1}},mounted:function(){var t=this;this.$nextTick((function(){t.dValue=t.value,"wpwhpro_trigger_single_receivable_url"===t.nname&&(t.showLoader=!0,t.$root.fetchReceivableTriggerUrl(),t.$events.$on("receivable-trigger-url-loaded",(function(){setTimeout((function(){t.showLoader=!1}),500),t.dValue=t.$root.flowData.receivable_trigger_url})))}))},methods:{updateValue:function(t){"readonly"!==this.readonly&&this.$emit("input",t.target.value)}}}},function(t,e,n){"use strict";n.r(e);var i=n(76),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(5))&&i.__esModule?i:{default:i};e.default={mixins:o.default,inheritAttrs:!1,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},readonly:{required:!1,type:[String]},default_value:{required:!1},description:{type:[String],required:!1}},methods:{updateValue:function(t){this.$emit("input",t.target.value)}}}},function(t,e,n){"use strict";n.r(e);var i=n(78),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(5))&&i.__esModule?i:{default:i};e.default={mixins:o.default,components:{},props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},links:{required:!0,type:Array,default:function(){return[]}}},data:function(){return{dLinks:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.dLinks=t.$root.jsonDetach(t.links)}))},methods:{addLink:function(){this.dLinks.push({url:"",uppercase:!1})},removeLink:function(t){this.dLinks.splice(t,1)}}}},function(t,e,n){"use strict";n.r(e);var i=n(80),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(5))&&i.__esModule?i:{default:i};e.default={mixins:o.default,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1}},data:function(){return{dValue:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.dValue=t.$root.jsonDetach(t.value)}))},methods:{addLink:function(){this.dValue.push({key:"",value:"",mappings:{}})},removeLink:function(t){this.dValue.splice(t,1)},updateValue:function(){this.$emit("input",this.dValue)},updateVariableValue:function(t,e){this.dValue[e].value=t,this.updateValue()},addMapping:function(t,e,n,i,o,a){var r=this.dValue[a].mappings;r||(r={}),r[t]={value:e,mapping:n},r[t][o]=i,Vue.set(this.dValue[a],"mappings",r)},deleteMapping:function(t,e){this.dValue[e]&&this.dValue[e].mappings&&this.dValue[e].mappings[t]&&this.$delete(this.dValue[e].mappings,t)},deleteMappings:function(t,e){if(this.dValue[t])for(var n in this.dValue[t].mappings)e.includes(n)||this.$delete(this.dValue[t].mappings,n)}}}},function(t,e,n){"use strict";n.r(e);var i=n(82),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(5))&&i.__esModule?i:{default:i};e.default={mixins:o.default,inheritAttrs:!1,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1}},data:function(){return{}},mounted:function(){this.$nextTick((function(){}))},methods:{updateValue:function(t){this.$emit("input",t.target.checked?"1":"0")}}}},function(t,e,n){"use strict";n.r(e);var i=n(84),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(5))&&i.__esModule?i:{default:i};e.default={mixins:o.default,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},name:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},choices:{type:[Array,Object],default:function(){return{}}}},methods:{updateValue:function(t){this.$emit("input",t.target.value)},isChecked:function(t,e,n){return this.value===e}}}},,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-flows-wrapper"},[n("div",{staticClass:"wpwh-container"},[t.pageHeading?n("div",{staticClass:"wpwh-title-area mb-4"},[n("h2",[t._v(t._s(t.pageHeading))])]):t._e(),t._v(" "),null!==t.$root.flow&&t.$root.flowLoaded?n("add-new"):t.$root.flowNotExists?n("div",[n("p",[t._v("This flow doesn't exists. Please go back to "),n("a",{staticClass:"text-secondary",attrs:{href:"/wp-admin/options-general.php?page=wp-webhooks-pro&wpwhprovrs=flows"}},[t._v("all flows")]),t._v(".")])]):n("loader",{staticClass:"py-5"})],1)])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"dots"===t.icon?n("svg",{attrs:{width:"5",height:"24",viewBox:"0 0 5 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{attrs:{opacity:"0.3",cx:"2.49981",cy:"2.32256",r:"2.32256",fill:t.getFill("#393939")}}),t._v(" "),n("circle",{attrs:{opacity:"0.3",cx:"2.49981",cy:"11.9998",r:"2.32256",fill:t.getFill("#393939")}}),t._v(" "),n("circle",{attrs:{opacity:"0.3",cx:"2.49981",cy:"21.6775",r:"2.32256",fill:t.getFill("#393939")}})]):"delete"===t.icon||"trash"===t.icon?n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",fill:t.getFill("none")}},[n("defs"),t._v(" "),n("path",{attrs:{stroke:t.getStroke("#FF0000"),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.41667",d:"M2.125 4.25h12.75M5.6665 4.25002V2.83335c0-.37572.14926-.73605.41494-1.00173.26567-.26568.62601-.41493 1.00173-.41493H9.9165c.3757 0 .7361.14925 1.0017.41493.2657.26568.415.62601.415 1.00173v1.41667m2.125 0v9.91668c0 .3757-.1493.736-.415 1.0017-.2656.2657-.626.415-1.0017.415H4.95817c-.37572 0-.73606-.1493-1.00173-.415-.26568-.2657-.41494-.626-.41494-1.0017V4.25002h9.9167zM7.0835 7.79169v4.25001M9.9165 7.79169v4.25001"}})]):"chevron-down"===t.icon?n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M7.41 8.59009L12 13.1701L16.59 8.59009L18 10.0001L12 16.0001L6 10.0001L7.41 8.59009Z",fill:t.getFill("#666666")}})]):"chevron-down-large"===t.icon?n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"9",fill:"none"}},[n("defs"),t._v(" "),n("path",{attrs:{stroke:t.getStroke("#0E0A1D"),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 1l7 7 7-7"}})]):"done"===t.icon||"complete"===t.icon?n("svg",{attrs:{width:"20",height:"20","aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:t.getFill("#666666"),d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}})]):"reload"===t.icon||"refresh"===t.icon?n("svg",{attrs:{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 489.533 489.533",fill:t.getFill()}},[n("path",{attrs:{d:"M268.175 488.161c98.2-11 176.9-89.5 188.1-187.7 14.7-128.4-85.1-237.7-210.2-239.1v-57.6c0-3.2-4-4.9-6.7-2.9l-118.6 87.1c-2 1.5-2 4.4 0 5.9l118.6 87.1c2.7 2 6.7.2 6.7-2.9v-57.5c87.9 1.4 158.3 76.2 152.3 165.6-5.1 76.9-67.8 139.3-144.7 144.2-81.5 5.2-150.8-53-163.2-130-2.3-14.3-14.8-24.7-29.2-24.7-17.9 0-31.9 15.9-29.1 33.6 17.4 109.7 118.7 192 236 178.9z"}})]):t._e()},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-flows-loader",class:{"wpwh-flows-loader--inline":t.inline}},[n("div",{staticClass:"wpwh-flows-loader__spinner",attrs:{"aria-label":"Loading"}}),t._v(" "),t.hideSpinner?t._e():n("div",{staticClass:"wpwh-flows-loader__spacer"}),t._v(" "),t.hideText?t._e():n("span",{staticClass:"wpwh-flows-loader__text"},[t._v(t._s(t.text))])])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"wpwh-flows-accordion__header",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$emit("click")}}},[n("svg-icon",{attrs:{icon:"chevron-down"}}),t._v(" "),n("span",[t._v(t._s(t.heading))]),t._v(" "),t.showCompleted?n("svg-icon",{staticClass:"mr-0 ml-auto",attrs:{icon:"done",fill:"rgb(19, 208, 171)"}}):t._e()],1)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.label?n("label",{staticClass:"wpwh-form-label",attrs:{for:t.id}},[t._v("\n  "+t._s(t.label)+"\n  "),t.required?n("span",{staticClass:"wpwh-text-danger"},[t._v(" *")]):t._e(),t._v(" "),t.description?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.description,expression:"description"}],staticClass:"ml-2"},[n("fa-icon",{attrs:{icon:"info-circle"}})],1):t._e()]):t._e()},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isSelect?n("select-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,description:t.dFieldData.short_description?t.dFieldData.short_description:t.dFieldData.description,attributes:t.dFieldData.attributes,integration:t.integration,"step-type":t.stepType,choices:t.dFieldData.choices,multiple:t.dFieldData.multiple,query:t.dFieldData.query},on:{input:t.updateValue}}):t.isVariable?n("variable-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,description:t.dFieldData.short_description?t.dFieldData.short_description:t.dFieldData.description,attributes:t.dFieldData.attributes,integration:t.integration},on:{input:t.updateValue}}):t.isWysiwyg?n("wysiwyg-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,description:t.dFieldData.short_description?t.dFieldData.short_description:t.dFieldData.description,attributes:t.dFieldData.attributes},on:{input:t.updateValue}}):t.isLinks?n("links-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,description:t.dFieldData.short_description?t.dFieldData.short_description:t.dFieldData.description,attributes:t.dFieldData.attributes,heading:t.dFieldData.label,links:[{url:"https://glueoperation.tastewp.com/wp-admin/options-general.php",uppercase:!0},{url:"https://glueoperation.tastewp.com/wp-admin/options-general.php",uppercase:!1}]}}):t.isRepeater?n("repeater-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,default_value:t.dFieldData.default_value,description:t.dFieldData.short_description?t.dFieldData.short_description:t.dFieldData.description,attributes:t.dFieldData.attributes,value:t.value||[]},on:{input:t.updateValue}}):t.isToggle?n("toggle-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,description:t.dFieldData.short_description?t.dFieldData.short_description:t.dFieldData.description,attributes:t.dFieldData.attributes,checked:t.dFieldData.checked},on:{input:t.updateValue}}):t.isRadio?n("radio-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,description:t.dFieldData.short_description?t.dFieldData.short_description:t.dFieldData.description,attributes:t.dFieldData.attributes,checked:t.dFieldData.checked,choices:t.dFieldData.choices},on:{input:t.updateValue}}):t.isTextarea?n("textarea-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,description:t.dFieldData.short_description?t.dFieldData.short_description:t.dFieldData.description,attributes:t.dFieldData.attributes,readonly:t.dFieldData.readonly},on:{input:t.updateValue}}):t.hasType?n("input-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,description:t.dFieldData.short_description?t.dFieldData.short_description:t.dFieldData.description,attributes:t.dFieldData.attributes,readonly:t.dFieldData.readonly},on:{input:t.updateValue}}):t._e()},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-form-field"},[n("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description}}),t._v(" "),n("textarea",{staticClass:"wpwh-form-input wpwh-w-100 wpwh-flows-step__wysiwyg",attrs:{id:t.id,name:t.nname,placeholder:t.placeholder,required:t.required,cols:t.cols,rows:t.rows},domProps:{value:t.value},on:{change:t.updateValue}})],1)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideDropdown,expression:"hideDropdown"}],staticClass:"wpwh-form-field flows-variable",class:{"flows-variable--dropdown-showing":t.showDropdown}},[n("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description}}),t._v(" "),n("div",{staticClass:"flows-variable__input"},[n("codemirror",{ref:"editor",attrs:{value:t.value,options:t.cmOptions,placeholder:t.placeholder},on:{ready:t.onCmReady,focus:t.onCmFocus,blur:t.onCmBlur,input:t.onCmCodeChange}}),t._v(" "),n("variable-field-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.showDropdown,expression:"showDropdown"}],attrs:{items:t.dropdownItems},on:{"variable-selected":t.insertVariableIntoEditor}})],1)],1)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-form-field"},[t.label?n("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description}}):t._e(),t._v(" "),t.settingsLoaded?n("select2",{attrs:{id:t.id,placeholder:t.dPlaceholder,options:t.dChoices,settings:t.settings,required:t.required},on:{change:function(e){return t.onChange(e)}},model:{value:t.dValue,callback:function(e){t.dValue=e},expression:"dValue"}}):n("loader",{style:{minHeight:"41.5px"},attrs:{inline:!0}})],1)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("select",{staticClass:"form-control",attrs:{id:this.id,name:this.name,disabled:this.disabled,required:this.required}})])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-form-field"},[n("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description}}),t._v(" "),t.showLoader?n("loader",{attrs:{text:"loading trigger URL"}}):t._e(),t._v(" "),n("input",t._b({directives:[{name:"show",rawName:"v-show",value:!t.showLoader,expression:"! showLoader"}],staticClass:"wpwh-form-input wpwh-w-100",attrs:{type:t.type,id:t.id,name:t.nname,placeholder:t.placeholder,required:t.required,readonly:t.readonly},domProps:{value:t.readonly?t.dValue:t.value},on:{input:t.updateValue}},"input",t.$attrs,!1))],1)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-form-field"},[n("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description}}),t._v(" "),n("textarea",t._b({staticClass:"wpwh-form-input wpwh-w-100",attrs:{id:t.id,name:t.nname,placeholder:t.placeholder,required:t.required,readonly:t.readonly},domProps:{value:t.value},on:{input:t.updateValue}},"textarea",t.$attrs,!1))],1)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-form-field wpwh-flows-field wpwh-flows-links mt-4"},[n("h4",{staticClass:"mb-2"},[t._v(t._s(t.label))]),t._v(" "),n("table",{staticClass:"wpwh-table wpwh-table--sm bg-white"},[n("thead",[n("tr",[n("th"),t._v(" "),n("th",{staticClass:"w-100 pl-0"},[t._v(t._s(t.$root.texts.link))]),t._v(" "),n("th",[t._v(t._s(t.$root.texts.uppercase_title.replace(" "," ")))])])]),t._v(" "),n("tbody",t._l(t.dLinks,(function(e,i){return n("tr",{key:t.id+i,staticClass:"wpwh-flows-link"},[n("td",{staticClass:"px-0 align-middle text-center"},[n("button",{staticClass:"wpwh-btn wpwh-btn--link p-0 wpwh-flows-link__delete",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.removeLink(i)}}},[n("svg-icon",{attrs:{icon:"delete"}})],1)]),t._v(" "),n("td",{staticClass:"align-middle wpwh-text-left pl-0"},[e.url?n("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"link.url"}],staticClass:"wpwh-form-input wpwh-w-100 wpwh-flows-link__link",attrs:{type:"text",id:t.id+"Link"+i},domProps:{value:e.url},on:{input:function(n){n.target.composing||t.$set(e,"url",n.target.value)}}}):t._e()]),t._v(" "),n("td",{staticClass:"align-middle wpwh-text-left"},[n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("toggle-field",{attrs:{id:t.id+"Link"+i+"Checkbox",checked:e.uppercase}})],1)])])})),0)]),t._v(" "),n("div",{staticClass:"text-right mt-3"},[n("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm wpwh-flows-links__add",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addLink()}}},[n("span",[t._v("Add link")])])])])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-form-field wpwh-flows-field wpwh-flows-repeater mt-4"},[n("h4",{staticClass:"mb-2"},[t._v(t._s(t.label))]),t._v(" "),n("table",{staticClass:"wpwh-table wpwh-table--sm bg-white"},[n("thead",[n("tr",[n("th"),t._v(" "),n("th",{staticClass:"pl-0 w-25"},[t._v(t._s(t.$root.texts.key))]),t._v(" "),n("th",{staticClass:"w-75"},[t._v(t._s(t.$root.texts.value))])])]),t._v(" "),n("tbody",t._l(t.dValue,(function(e,i){return n("tr",{key:t.id+i,staticClass:"wpwh-flows-repeater-item"},[n("td",{staticClass:"px-0 align-middle text-center"},[n("button",{staticClass:"wpwh-btn wpwh-btn--link p-0 wpwh-flows-repeater-item__delete",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.removeLink(i)}}},[n("svg-icon",{attrs:{icon:"delete"}})],1)]),t._v(" "),n("td",{staticClass:"align-middle wpwh-text-left pl-0 w-25"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"link.key"}],staticClass:"wpwh-form-input wpwh-w-100",attrs:{type:"text",id:t.id+"-"+i+"-key",name:t.nname+"-"+i+"-value"},domProps:{value:e.key},on:{change:t.updateValue,input:function(n){n.target.composing||t.$set(e,"key",n.target.value)}}})]),t._v(" "),n("td",{staticClass:"align-middle wpwh-text-left"},[n("variable-field",{staticClass:"mb-0",attrs:{id:t.id+"-"+i+"-value",nname:t.nname+"-"+i+"-value",label:"",value:e.value,index:i},on:{input:function(e){return t.updateVariableValue(e,i)},"add-mapping":t.addMapping,"delete-mapping":t.deleteMapping,"delete-mappings":t.deleteMappings}})],1)])})),0)]),t._v(" "),n("div",{staticClass:"text-right mt-3"},[n("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm wpwh-flows-repeater__add",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addLink()}}},[n("span",[t._v(t._s(t.$root.texts.add_item))])])])])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-form-field"},[n("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description}}),t._v(" "),n("div",{staticClass:"wpwh-toggle wpwh-toggle--on-off"},[n("input",t._b({staticClass:"wpwh-toggle__input wpwh-flows-link__toggle",attrs:{type:t.type,id:t.id,name:t.nname,required:t.required},domProps:{value:t.value,checked:!0===t.value||"true"===t.value||1==t.value},on:{change:t.updateValue}},"input",t.$attrs,!1)),t._v(" "),n("label",{staticClass:"wpwh-toggle__btn mb-0",attrs:{for:t.id}})])],1)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-form-field"},[n("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description}}),t._v(" "),n("ul",t._l(t.choices,(function(e,i,o){return n("li",{key:t.id+"_"+o},[n("input",{attrs:{id:t.id+"_"+o,name:t.nname,type:"radio",required:t.required},domProps:{checked:t.isChecked(e,i,o),value:i},on:{change:t.updateValue}}),t._v(" "),n("label",{attrs:{for:t.id+"_"+o}},[t._v(t._s(e.label))]),t._v(" "),e.description?n("small",[t._v(t._s(e.description))]):t._e()])})),0)],1)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{attrs:{action:"",method:"post"},on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"wpwh-flows"},[n("div",{staticClass:"wpwh-flows__content-sidebar"},[n("div",{staticClass:"wpwh-flows__content"},[n("div",{staticClass:"wpwh-form-field"},[n("label",{staticClass:"wpwh-form-label",attrs:{for:"wpwhAddNew-name"}},[t._v("Enter Title Here")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.flowData.flow_title,expression:"$root.flowData.flow_title"}],staticClass:"wpwh-form-input wpwh-w-100",attrs:{type:"text",name:"title",id:"wpwhAddNew-name"},domProps:{value:t.$root.flowData.flow_title},on:{input:function(e){e.target.composing||t.$set(t.$root.flowData,"flow_title",e.target.value)}}})]),t._v(" "),n("flow-steps")],1),t._v(" "),n("sidebar")],1),t._v(" "),n("add-condition-modal")],1)]),t._v(" "),n("integrations-modal")],1)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flows-variable__dropdown-wrapper"},[n("div",{staticClass:"flows-variable__dropdown"},[n("div",{staticClass:"flows-variable__search"},[n("input",{staticClass:"form-variable__search-input",attrs:{placeholder:"Search a name"},on:{input:t.onSearch}})]),t._v(" "),t.$parent.dropdownLoading?n("loader",{staticClass:"py-3"}):n("div",{staticClass:"flows-variable__items"},t._l(t.items,(function(e,i){return n("variable-field-dropdown-item",{key:e.icon+"_"+i,ref:"item-"+i,refInFor:!0,attrs:{icon:e.icon,title:e.title,"sub-items":e.subItems},on:{"variable-selected":function(n){return t.onSelect(e.id,n)}}})})),1)],1)])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$root.flowDataLoaded?n("div",{staticClass:"wpwh-flows-steps"},[t._l(t.triggers,(function(e,i,o){return n("flow-step-trigger",{key:"trigger_"+i+"_"+o,attrs:{id:"flowStepTrigger-"+i,step:e,"step-type":"trigger","step-id":i,"step-index":o},on:{flowStepDataUpdated:function(e){return t.updateFlowStepData(e)}}})})),t._v(" "),Object.keys(t.triggers).length?t._e():n("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--lg wpwh-btn--block wpwh-flows-select-trigger mt-5",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$root.openIntegrationsModal("trigger")}}},[n("span",[t._v("Select a trigger")])]),t._v(" "),Object.keys(t.triggers).length?t._e():n("div",{staticClass:"d-flex justify-content-center"},[n("svg-icon",{staticClass:"my-3",attrs:{icon:"dots"}})],1),t._v(" "),t._l(t.actions,(function(e,i,o){return n("flow-step-action",{key:"action_"+i+"_"+o,attrs:{id:"flowStepAction-"+i,step:e,"step-type":"action","step-id":i,"step-index":o},on:{flowStepDataUpdated:function(e){return t.updateFlowStepData(e)}}})})),t._v(" "),Object.keys(t.actions).length?t._e():n("div",{staticClass:"d-flex align-items-center justify-content-center flex-column"},[n("svg-icon",{staticClass:"mt-1 mb-3",attrs:{icon:"dots"}}),t._v(" "),n("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--lg wpwh-btn--block wpwh-flows-select-trigger",attrs:{disabled:!Object.keys(t.triggers).length,type:"button"},on:{click:function(e){return e.preventDefault(),t.$root.openIntegrationsModal("action")}}},[n("span",[t._v("Add an action")])])],1)],2):n("div",{staticClass:"wpwh-flows-steps py-5"},[n("loader")],1)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("aside",{staticClass:"wpwh-flows__sidebar"},[e("div",{staticClass:"wpwh-flows-widget"},[e("publish-box")],1),this._v(" "),e("div",{staticClass:"wpwh-flows-widget"},[e("h4",{staticClass:"wpwh-flows-widget__title"},[this._v("Selected Steps:")]),this._v(" "),e("selected-steps")],1)])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{name:"integrations-modal",adaptive:!0,height:"auto"},on:{"before-close":t.beforeClose}},[n("div",{staticClass:"vm--modal-header"},[t.title?n("h3",{staticClass:"vm--modal-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("button",{staticClass:"vm--modal-close close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.$root.closeIntegrationsModal()}}},[n("svg",{attrs:{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M8.125 6.5L12.3047 10.7188C12.4219 10.8359 12.5 10.9922 12.5 11.1484C12.5 11.3438 12.4219 11.5 12.3047 11.5781L11.3281 12.5547C11.2109 12.7109 11.0547 12.75 10.8984 12.75C10.7031 12.75 10.5469 12.7109 10.4688 12.5547L6.25 8.375L2.03125 12.5547C1.91406 12.7109 1.75781 12.75 1.60156 12.75C1.40625 12.75 1.25 12.7109 1.17188 12.5547L0.195312 11.5781C0.0390625 11.5 0 11.3438 0 11.1484C0 10.9922 0.0390625 10.8359 0.195312 10.7188L4.375 6.5L0.195312 2.28125C0.0390625 2.20312 0 2.04688 0 1.85156C0 1.69531 0.0390625 1.53906 0.195312 1.42188L1.17188 0.445312C1.25 0.328125 1.40625 0.25 1.60156 0.25C1.75781 0.25 1.91406 0.328125 2.03125 0.445312L6.25 4.625L10.4688 0.445312C10.5469 0.328125 10.7031 0.25 10.8984 0.25C11.0547 0.25 11.2109 0.328125 11.3281 0.445312L12.3047 1.42188C12.4219 1.53906 12.5 1.69531 12.5 1.85156C12.5 2.04688 12.4219 2.20312 12.3047 2.28125L8.125 6.5Z",fill:"#393939"}})])])]),t._v(" "),n("div",{staticClass:"vm--modal-body"},[n("integrations")],1)])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{staticClass:"vm--modal--overflow-visible flows-condition-modal",attrs:{name:"add-condition-modal",adaptive:!0,height:"auto",width:880},on:{"before-close":t.beforeClose,"before-open":t.beforeOpen}},[n("div",{staticClass:"vm--modal-header"},[t.title?n("h3",{staticClass:"vm--modal-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("button",{staticClass:"vm--modal-close close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.$root.closeAddConditionalModal()}}},[n("svg",{attrs:{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M8.125 6.5L12.3047 10.7188C12.4219 10.8359 12.5 10.9922 12.5 11.1484C12.5 11.3438 12.4219 11.5 12.3047 11.5781L11.3281 12.5547C11.2109 12.7109 11.0547 12.75 10.8984 12.75C10.7031 12.75 10.5469 12.7109 10.4688 12.5547L6.25 8.375L2.03125 12.5547C1.91406 12.7109 1.75781 12.75 1.60156 12.75C1.40625 12.75 1.25 12.7109 1.17188 12.5547L0.195312 11.5781C0.0390625 11.5 0 11.3438 0 11.1484C0 10.9922 0.0390625 10.8359 0.195312 10.7188L4.375 6.5L0.195312 2.28125C0.0390625 2.20312 0 2.04688 0 1.85156C0 1.69531 0.0390625 1.53906 0.195312 1.42188L1.17188 0.445312C1.25 0.328125 1.40625 0.25 1.60156 0.25C1.75781 0.25 1.91406 0.328125 2.03125 0.445312L6.25 4.625L10.4688 0.445312C10.5469 0.328125 10.7031 0.25 10.8984 0.25C11.0547 0.25 11.2109 0.328125 11.3281 0.445312L12.3047 1.42188C12.4219 1.53906 12.5 1.69531 12.5 1.85156C12.5 2.04688 12.4219 2.20312 12.3047 2.28125L8.125 6.5Z",fill:"#393939"}})])])]),t._v(" "),n("div",{staticClass:"vm--modal-body"},[t.initialized?n("div",{staticClass:"wpwh-flows-condition-form"},[n("variable-field",{staticClass:"mb-0",attrs:{id:"acm-condition-input",nname:"condition-input",label:"",placeholder:"select input",value:t.dCondition.condition_input.value},on:{input:t.updateConditionInput,"add-mapping":t.addInputMapping,"delete-mapping":t.deleteInputMapping,"delete-mappings":t.deleteInputMappings}}),t._v(" "),null!==t.$root.flowConditionLabels.conditions?n("select-field",{attrs:{id:"acm-condition-condition",name:"condition-condition",placeholder:"select operator",required:!0,value:t.dCondition.condition_operator.value,choices:t.$root.flowConditionLabels.conditions,clearable:!1,searchable:!1},on:{input:t.updateOperator}}):t._e(),t._v(" "),n("variable-field",{staticClass:"mb-0",attrs:{id:"acm-condition-value",nname:"condition-value",label:"",placeholder:"set value",value:t.dCondition.condition_value.value},on:{input:t.updateConditionValue,"add-mapping":t.addValueMapping,"delete-mapping":t.deleteValueMapping,"delete-mappings":t.deleteValueMappings}})],1):t._e()]),t._v(" "),n("div",{staticClass:"vm--modal-footer"},[n("button",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--sm mr-2",attrs:{type:"button","aria-label":"Cancel"},on:{click:function(e){return e.preventDefault(),t.$root.closeAddConditionalModal()}}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm",attrs:{type:"button","aria-label":"Save"},on:{click:function(e){return e.preventDefault(),t.$root.closeAddConditionalModal("save",t.dCondition)}}},[t._v("Save")])])])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flows-variable__item",class:{"flows-variable__item--opened":t.opened}},[n("a",{staticClass:"flows-variable__item-info",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onClick.apply(null,arguments)}}},[t.icon?n("div",{staticClass:"flows-variable__item-info-icon",domProps:{innerHTML:t._s(t.icon)}}):t._e(),t._v(" "),t.title?n("div",{staticClass:"flows-variable__item-info-text"},[t._v("\n      "+t._s(t.title)+"\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"flows-variable__item-info-toggle"},[n("svg-icon",{attrs:{icon:"chevron-down-large"}})],1)]),t._v(" "),t.subItems.length?n("div",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],staticClass:"flows-variable__sub-items"},t._l(t.subItems,(function(e,i){return n("variable-field-dropdown-sub-item",{key:e.title+i,attrs:{"sub-item":e,type:e.type,title:e.title,value:e.value,example:"boolean"==typeof e.example?"":e.example},on:{"variable-selected":function(n){return t.selectSubItem(e)}}})})),1):t._e()])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.integrationData?n("div",{staticClass:"wpwh-flows-step wpwh-flows-step--trigger",class:{"wpwh-is-loading":t.inProgress,"is-collapsed":t.collapsed,"not-collapsed":!t.collapsed}},[(t.stepLoaded,n("div",{staticClass:"wpwh-flows-step__inner"},[n("flow-step-header",{attrs:{icon:t.integrationData.icon,type:t.stepType,typeText:this.$root.texts.trigger},on:{"update-name":t.updateFlowName,openIntegrationModal:function(e){return t.$root.openIntegrationsModal("trigger",t.stepId,t.integrationData.slug,t.stepIndex)}}}),t._v(" "),t.isCollapsed?n("div",{staticClass:"wpwh-flows-step__body"},[t.dStepData.subSteps?n("div",{staticClass:"wpwh-flows-accordions wpwh-flows-step__sub-steps"},[n("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--choose",class:{"wpwh-flows-accordion--active":"choose"===t.currentSubStep}},[n("accordion-trigger",{attrs:{"show-completed":t.dStepData.subSteps.choose&&"done"===t.dStepData.subSteps.choose.status},on:{click:function(e){return t.toggleSubStep("choose")}}}),t._v(" "),"choose"===t.currentSubStep||"choose"===t.currentSubStep&&t.isChooseStepActive?n("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[n("div",{staticClass:"wpwh-form-field"},[n("label",{staticClass:"wpwh-form-label",attrs:{for:t.stepId+"-choose"}},[n("strong",[t._v("Select a trigger")])]),t._v(" "),n("select2",{attrs:{options:t.chooseOptions,placeholder:"Select a trigger",settings:{allowClear:!0,theme:"wpwh-default"}},on:{change:function(e){return t.onChooseChange(e)}},model:{value:t.dStepData.trigger,callback:function(e){t.$set(t.dStepData,"trigger",e)},expression:"dStepData.trigger"}})],1),t._v(" "),n("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:!t.dStepData.trigger||t.subStepContinueLoading},on:{click:function(e){return e.preventDefault(),t.onContinue("choose")}}},[n("span",[t._v("Continue")])])]):t._e()],1),t._v(" "),t.isChooseStepDone?n("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--choose",class:{"wpwh-flows-accordion--active":"setup"===t.currentSubStep}},[n("accordion-trigger",{attrs:{heading:"Trigger settings","show-completed":t.dStepData.subSteps.setup&&"done"===t.dStepData.subSteps.setup.status},on:{click:function(e){return t.toggleSubStep("setup")}}}),t._v(" "),"setup"===t.currentSubStep||"setup"===t.currentSubStep&&t.isSetupStepActive?n("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[n("div",{staticClass:"wpwh-flows-step__fields-group"},t._l(t.integrationSettings,(function(e,i,o){return n("form-field",{key:"wpwhTrigger"+t.stepId+"_"+i+o,class:"wpwh-form-field--"+e.type,attrs:{id:"wpwhproFlowTrigger"+t.stepId+"_"+e.id,"field-data":t.$root.prepareFieldData(e),value:t.dStepData.fields[i].value,nname:i,integration:t.integrationData.slug,"step-type":"trigger"},on:{"required-field":function(e){return t.isRequiredField(i)}},model:{value:t.dStepData.fields[i].value,callback:function(e){t.$set(t.dStepData.fields[i],"value",e)},expression:"dStepData.fields[settingId].value"}})})),1),t._v(" "),n("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:t.subStepContinueLoading||t.hasEmptyRequiredFields},on:{click:function(e){return e.preventDefault(),t.onContinue("setup")}}},[n("span",[t._v("Continue & save fields")])])]):t._e()],1):t._e(),t._v(" "),t.isSetupStepDone?n("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--test",class:{"wpwh-flows-accordion--active":"test"===t.currentSubStep}},[n("accordion-trigger",{attrs:{heading:"Test trigger","show-completed":t.dStepData.subSteps.test&&"done"===t.dStepData.subSteps.test.status},on:{click:function(e){return t.toggleSubStep("test")}}}),t._v(" "),"test"===t.currentSubStep||"test"===t.currentSubStep&&t.isTestStepActive?n("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[t._m(0),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.dStepData.testType,expression:"dStepData.testType"}],staticClass:"wpwh-form-input wpwh-w-100",attrs:{name:"title",id:t.stepId+"-testType"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.dStepData,"testType",e.target.multiple?n:n[0])},t.onTestTypeChange]}},[n("option",{attrs:{value:""},domProps:{selected:!t.dStepData.testType}},[t._v("-- Select data type --")]),t._v(" "),n("option",{attrs:{value:"static"}},[t._v("Load static data")]),t._v(" "),n("option",{attrs:{value:"log"}},[t._v("Get log data")])]),t._v(" "),"log"===t.dStepData.testType?n("div",{staticClass:"d-flex align-items-center mt-4"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.dStepData.log,expression:"dStepData.log"}],staticClass:"wpwh-form-input mr-3 flex-grow-1",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.dStepData,"log",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("-- Select a log --")]),t._v(" "),t._l(t.logs,(function(e,i){return n("option",{key:t.stepId+"_log_"+e.id+"_"+i,domProps:{value:e.id,selected:e.id===t.dStepData.log}},[t._v(t._s(e.title))])}))],2),t._v(" "),n("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Refresh logs",expression:"'Refresh logs'"}],staticClass:"wpwh-btn wpwh-btn-as-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.reloadLogs()}}},[n("svg-icon",{attrs:{icon:"reload",width:"20",height:"20"}})],1)]):t._e(),t._v(" "),t.showingReturnsCode?n("pre",{domProps:{innerHTML:t._s(t.integrationData.triggers[t.dStepData.trigger].returns_code)}}):t._e(),t._v(" "),t.logsLoading?n("loader",{staticClass:"my-4"}):t.showingLogData?n("pre",{domProps:{innerHTML:t._s(t.getLogData.content)}}):t._e(),t._v(" "),n("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:t.subStepContinueLoading||!t.dStepData.testType||"log"===t.dStepData.testType&&!t.dStepData.log},on:{click:function(e){return e.preventDefault(),t.onContinue("test")}}},[n("span",[t._v("Finish trigger")])])],1):t._e()],1):t._e()]):t._e()]):t._e()],1)),t._v(" "),t.showAddNextBtn?n("div",{staticClass:"wpwh-flows-step__footer d-flex align-items-center justify-content-center flex-column"},[n("svg-icon",{staticClass:"my-3",attrs:{icon:"dots"}}),t._v(" "),n("button",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--sm wpwh-flows-select-action ml-auto mr-auto",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$root.openIntegrationsModal("action","","",-1)}}},[n("span",[t._v("Add action")])]),t._v(" "),n("svg-icon",{staticClass:"my-3",attrs:{icon:"dots"}})],1):t._e()]):t._e()},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-4"},[this._v("\n              The options explained:\n              "),e("ul",[e("li",[e("strong",[this._v("Load static data")]),e("br"),this._v("\n                  Load a predefined payload that was created statically by us. This does not contain any data specific to your website.\n                ")]),this._v(" "),e("li",[e("strong",[this._v("Get log data (Recommended)")]),e("br"),this._v("\n                  Load real data from your website that was captured by this trigger. This gives you access to data uniquely for your website.\n                ")])])])}]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.integrationData?n("div",{staticClass:"wpwh-flows-step wpwh-flows-step--action",class:{"wpwh-is-loading":t.inProgress,"is-collapsed":t.collapsed,"not-collapsed":!t.collapsed}},[(t.stepLoaded,n("div",{staticClass:"wpwh-flows-step__inner"},[n("flow-step-header",{attrs:{icon:t.integrationData.icon,type:t.stepType,typeText:this.$root.texts.action},on:{"update-name":t.updateFlowName,openIntegrationModal:function(e){return t.$root.openIntegrationsModal("action",t.stepId,t.integrationData.slug,t.stepIndex)}}}),t._v(" "),t.isCollapsed?n("div",{staticClass:"wpwh-flows-step__body"},[t.dStepData.subSteps?n("div",{staticClass:"wpwh-flows-accordions wpwh-flows-step__sub-steps"},[n("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--choose",class:{"wpwh-flows-accordion--active":"choose"===t.currentSubStep}},[n("accordion-trigger",{attrs:{heading:"Choose action","show-completed":t.dStepData.subSteps.choose&&"done"===t.dStepData.subSteps.choose.status},on:{click:function(e){return t.toggleSubStep("choose")}}}),t._v(" "),"choose"===t.currentSubStep||"choose"===t.currentSubStep&&t.isChooseStepActive?n("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[n("div",{staticClass:"wpwh-form-field"},[n("label",{staticClass:"wpwh-form-label",attrs:{for:t.stepId+"-choose"}},[n("strong",[t._v("Select an action")])]),t._v(" "),n("select2",{attrs:{options:t.chooseOptions,placeholder:"Select an action",settings:{allowClear:!0,theme:"wpwh-default"}},on:{change:function(e){return t.onChooseChange(e)}},model:{value:t.dStepData.trigger,callback:function(e){t.$set(t.dStepData,"trigger",e)},expression:"dStepData.trigger"}})],1),t._v(" "),n("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:!t.dStepData.action||t.subStepContinueLoading},on:{click:function(e){return e.preventDefault(),t.onContinue("choose")}}},[n("span",[t._v("Continue")])])]):t._e()],1),t._v(" "),t.isChooseStepDone?n("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--choose",class:{"wpwh-flows-accordion--active":"setup"===t.currentSubStep}},[n("accordion-trigger",{attrs:{heading:"Action settings","show-completed":t.dStepData.subSteps.setup&&"done"===t.dStepData.subSteps.setup.status},on:{click:function(e){return t.toggleSubStep("setup")}}}),t._v(" "),"setup"===t.currentSubStep||"setup"===t.currentSubStep&&t.isSetupStepActive?n("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[n("div",{staticClass:"wpwh-flows-step__fields-group"},[t._l(t.stepParameter,(function(e,i,o){return n("form-field",{key:"wpwhAction"+t.stepId+"_"+i+o,attrs:{id:"wpwhproFlowAction"+t.stepId+"_"+e.id,"field-data":t.$root.prepareFieldData(e),value:t.dStepData.fields[i].value,nname:i,integration:t.integrationData.slug,"step-type":"action"},on:{"required-field":function(e){return t.isRequiredField(i)}},model:{value:t.dStepData.fields[i].value,callback:function(e){t.$set(t.dStepData.fields[i],"value",e)},expression:"dStepData.fields[settingId].value"}})})),t._v(" "),t.showAdvancedFields?n("p",{staticClass:"mb-4"},[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showAdvancedFields=!1}}},[t._v("Hide advanced settings?")])]):n("p",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showAdvancedFields=!0}}},[t._v("Show advanced settings?")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showAdvancedFields,expression:"showAdvancedFields"}]},t._l(t.integrationSettings,(function(e,i,o){return n("form-field",{key:"wpwhAction"+t.stepId+"_"+i+o,attrs:{id:"wpwhproFlowAction"+t.stepId+"_"+e.id,"field-data":t.$root.prepareFieldData(e),value:t.dStepData.fields[i].value,nname:i,integration:t.integrationData.slug,"step-type":"action"},on:{"required-field":function(e){return t.isRequiredField(i)}},model:{value:t.dStepData.fields[i].value,callback:function(e){t.$set(t.dStepData.fields[i],"value",e)},expression:"dStepData.fields[settingId].value"}})})),1)],2),t._v(" "),n("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:t.subStepContinueLoading||t.hasEmptyRequiredFields},on:{click:function(e){return e.preventDefault(),t.onContinue("setup")}}},[n("span",[t._v("Continue & save fields")])])]):t._e()],1):t._e(),t._v(" "),t.isSetupStepDone?n("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--test",class:{"wpwh-flows-accordion--active":"test"===t.currentSubStep}},[n("accordion-trigger",{attrs:{heading:"Test action","show-completed":t.dStepData.subSteps.test&&"done"===t.dStepData.subSteps.test.status},on:{click:function(e){return t.toggleSubStep("test")}}}),t._v(" "),"test"===t.currentSubStep||"test"===t.currentSubStep&&t.isTestStepActive?n("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[t._m(0),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.dStepData.testType,expression:"dStepData.testType"}],staticClass:"wpwh-form-input wpwh-w-100",attrs:{name:"title",id:t.stepId+"-testType"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.dStepData,"testType",e.target.multiple?n:n[0])},t.onTestTypeChange]}},[n("option",{attrs:{value:""},domProps:{selected:!t.dStepData.testType}},[t._v("-- Select data type --")]),t._v(" "),n("option",{attrs:{value:"static"}},[t._v("Load static data")]),t._v(" "),n("option",{attrs:{value:"log"}},[t._v("Get log data")]),t._v(" "),n("option",{attrs:{value:"fire"}},[t._v("Fire webhook action")])]),t._v(" "),"log"===t.dStepData.testType?n("div",{staticClass:"d-flex align-items-center mt-4"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.dStepData.log,expression:"dStepData.log"}],staticClass:"wpwh-form-input mr-3 flex-grow-1",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.dStepData,"log",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("-- Select a log --")]),t._v(" "),t._l(t.logs,(function(e,i){return n("option",{key:t.stepId+"_log_"+e.id+"_"+i,domProps:{value:e.id,selected:e.id===t.dStepData.log}},[t._v(t._s(e.title))])}))],2),t._v(" "),n("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Refresh logs",expression:"'Refresh logs'"}],staticClass:"wpwh-btn wpwh-btn-as-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.reloadLogs()}}},[n("svg-icon",{attrs:{icon:"reload",width:"20",height:"20"}})],1)]):t._e(),t._v(" "),t.showingReturnsCode?n("pre",{domProps:{innerHTML:t._s(t.integrationData.actions[t.dStepData.action].returns_code)}}):t._e(),t._v(" "),t.logsLoading?n("loader",{staticClass:"my-4"}):t.showingLogData?n("pre",{domProps:{innerHTML:t._s(t.getLogData.content)}}):t._e(),t._v(" "),"fire"===t.dStepData.testType?n("div",{staticClass:"d-flex mt-4 flex-column align-items-start"},[n("a",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm",class:{"is-loading":t.webhookActionLoading},attrs:{href:"#",disabled:t.webhookActionLoading},on:{click:function(e){return e.preventDefault(),t.fireWebhookAction()}}},[n("span",[t._v("Fire Action")])]),t._v(" "),t.webhookAction&&!t.webhookActionLoading?n("pre",{staticClass:"w-100",domProps:{innerHTML:t._s(t.webhookAction)}}):t._e()]):t._e(),t._v(" "),n("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:t.subStepContinueLoading||!t.dStepData.testType||"log"===t.dStepData.testType&&!t.dStepData.log||"fire"===t.dStepData.testType&&!t.webhookAction},on:{click:function(e){return e.preventDefault(),t.onContinue("test")}}},[n("span",[t._v("Finish action")])])],1):t._e()],1):t._e(),t._v(" "),n("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--conditional",class:{"wpwh-flows-accordion--active":"conditional"===t.currentSubStep}},[n("accordion-trigger",{attrs:{heading:"Conditionals","show-completed":t.step.conditionals&&t.step.conditionals.conditions&&t.step.conditionals.conditions.length>0},on:{click:function(e){return t.toggleSubStep("conditional")}}}),t._v(" "),"conditional"===t.currentSubStep||"conditional"===t.currentSubStep&&t.isConditionalStepActive?n("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[n("div",{staticClass:"wpwh-text-small d-flex align-items-center"},[n("strong",[t._v("Run if")]),t._v(" "),n("select-field",{staticClass:"d-inline-block wpwh-form-field--sm mx-3 mb-0",attrs:{id:"flow-condition-all",name:"flow-condition-all",choices:{all:"ALL",any:"ANY"},value:t.dStepData.conditionals.relation,required:!0,clearable:!1,searchable:!1},on:{input:t.updateConditionalsRelation}}),t._v(" "),n("span",[t._v("of the following conditions are met")])],1),t._v(" "),t.dStepData.conditionals&&t.dStepData.conditionals.conditions?n("flow-step-conditions",{attrs:{stepId:t.stepId,stepIndex:t.stepIndex,stepType:t.stepType}}):t._e(),t._v(" "),n("a",{staticClass:"wpwh-btn wpwh-btn--outline-secondary wpwh-btn--sm mt-3 py-1 px-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$root.openAddConditionalModal(t.stepType,"new",t.stepId)}}},[t._v("+ Add")]),t._v(" "),n("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onContinue("conditional")}}},[n("span",[t._v("Set conditionals")])])],1):t._e()],1)]):t._e()]):t._e()],1)),t._v(" "),t.showAddNextBtn?n("div",{staticClass:"wpwh-flows-step__footer d-flex align-items-center justify-content-center flex-column"},[n("svg-icon",{staticClass:"my-3",attrs:{icon:"dots"}}),t._v(" "),n("button",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--sm wpwh-flows-select-action ml-auto mr-auto",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$root.openIntegrationsModal("action","","",t.stepIndex)}}},[n("span",[t._v("Add action")])]),t._v(" "),n("svg-icon",{staticClass:"my-3",attrs:{icon:"dots"}})],1):t._e()]):t._e()},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-4"},[t._v("\n              The options explained:\n              "),n("ul",[n("li",[n("strong",[t._v("Load static data")]),n("br"),t._v("\n                  Load a predefined payload that was created statically by us. This does not contain any data specific to your website.\n                ")]),t._v(" "),n("li",[n("strong",[t._v("Get log data")]),n("br"),t._v("\n                  Load real data from your website that was captured by this action. This gives you access to data uniquely for your website.\n                ")]),t._v(" "),n("li",[n("strong",[t._v("Fire webhook action (Recommended)")]),n("br"),t._v("\n                  Execute this action in real-time and get the latest data along with the response for the next actions.\n                ")])])])}]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-publish-box",class:{"is-loading":t.loading}},[n("p",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"wpwh-publish-box__icon"},[n("svg",{attrs:{width:"7",height:"13",viewBox:"0 0 7 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{opacity:"0.6",d:"M2.625 7.92969C2.88281 7.97656 3.14062 8 3.375 8C3.60938 8 3.84375 7.97656 4.125 7.92969V11.6094L3.60938 12.3828C3.53906 12.4766 3.46875 12.5 3.375 12.5C3.28125 12.5 3.1875 12.4766 3.14062 12.3828L2.625 11.6094V7.92969ZM3.375 0.5C3.98438 0.5 4.54688 0.664062 5.0625 0.96875C5.57812 1.27344 5.97656 1.67188 6.28125 2.1875C6.58594 2.70312 6.75 3.26562 6.75 3.875C6.75 4.48438 6.58594 5.04688 6.28125 5.5625C5.97656 6.07812 5.57812 6.5 5.0625 6.80469C4.54688 7.10938 3.98438 7.25 3.375 7.25C2.76562 7.25 2.20312 7.10938 1.6875 6.80469C1.17188 6.5 0.75 6.07812 0.445312 5.5625C0.140625 5.04688 0 4.48438 0 3.875C0 3.26562 0.140625 2.70312 0.445312 2.1875C0.75 1.67188 1.17188 1.27344 1.6875 0.96875C2.20312 0.664062 2.76562 0.5 3.375 0.5ZM3.375 2.28125C3.44531 2.28125 3.51562 2.25781 3.5625 2.21094C3.60938 2.16406 3.65625 2.09375 3.65625 2C3.65625 1.92969 3.60938 1.85938 3.5625 1.8125C3.51562 1.76562 3.44531 1.71875 3.375 1.71875C2.76562 1.71875 2.27344 1.92969 1.85156 2.35156C1.42969 2.77344 1.21875 3.28906 1.21875 3.875C1.21875 3.96875 1.24219 4.03906 1.28906 4.08594C1.33594 4.13281 1.40625 4.15625 1.5 4.15625C1.57031 4.15625 1.64062 4.13281 1.6875 4.08594C1.73438 4.03906 1.78125 3.96875 1.78125 3.875C1.78125 3.45312 1.92188 3.07812 2.25 2.75C2.55469 2.44531 2.92969 2.28125 3.375 2.28125Z",fill:"#393939"}})])]),t._v(" "),n("label",{staticClass:"wpwh-publish-box__title",attrs:{for:"wpwhFlowStatus"}},[t._v("Status:")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.$root.flowData.flow_status,expression:"$root.flowData.flow_status"}],staticClass:"wpwh-form-input wpwh-form-input--sm w-auto",attrs:{name:"status",id:"wpwhFlowStatus"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.$root.flowData,"flow_status",e.target.multiple?n:n[0])}}},t._l(t.$root.flowStatuses,(function(e,i){return n("option",{key:"flow-status"+i,domProps:{value:i,selected:t.$root.flowData.flow_status===i?"selected":""}},[t._v(t._s(e))])})),0)]),t._v(" "),n("p",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"wpwh-publish-box__icon"},[n("svg",{attrs:{width:"11",height:"13",viewBox:"0 0 11 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{opacity:"0.6",d:"M0.28125 5C0.1875 5 0.117188 5.04688 0.0703125 5.09375C0.0234375 5.14062 0 5.21094 0 5.28125V11.375C0 11.7031 0.09375 11.9609 0.328125 12.1719C0.539062 12.4062 0.796875 12.5 1.125 12.5H9.375C9.67969 12.5 9.9375 12.4062 10.1719 12.1719C10.3828 11.9609 10.5 11.7031 10.5 11.375V5.28125C10.5 5.21094 10.4531 5.14062 10.4062 5.09375C10.3594 5.04688 10.2891 5 10.2188 5H0.28125ZM10.5 3.96875C10.5 4.0625 10.4531 4.13281 10.4062 4.17969C10.3594 4.22656 10.2891 4.25 10.2188 4.25H0.28125C0.1875 4.25 0.117188 4.22656 0.0703125 4.17969C0.0234375 4.13281 0 4.0625 0 3.96875V3.125C0 2.82031 0.09375 2.5625 0.328125 2.32812C0.539062 2.11719 0.796875 2 1.125 2H2.25V0.78125C2.25 0.710938 2.27344 0.640625 2.32031 0.59375C2.36719 0.546875 2.4375 0.5 2.53125 0.5H3.46875C3.53906 0.5 3.60938 0.546875 3.65625 0.59375C3.70312 0.640625 3.75 0.710938 3.75 0.78125V2H6.75V0.78125C6.75 0.710938 6.77344 0.640625 6.82031 0.59375C6.86719 0.546875 6.9375 0.5 7.03125 0.5H7.96875C8.03906 0.5 8.10938 0.546875 8.15625 0.59375C8.20312 0.640625 8.25 0.710938 8.25 0.78125V2H9.375C9.67969 2 9.9375 2.11719 10.1719 2.32812C10.3828 2.5625 10.5 2.82031 10.5 3.125V3.96875Z",fill:"#393939"}})])]),t._v(" "),n("span",{staticClass:"wpwh-publish-box__title"},[t._v("Created on:")]),t._v(" "),n("strong",[t._v(t._s(t.date))])]),t._v(" "),n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.$root.updateFlow()}}},[n("span",[t._v("Save")])]),t._v(" "),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete this flow",expression:"'Delete this flow'"}],staticClass:"wpwh-btn wpwh-btn--link wpwh-btn--sm px-2",on:{click:function(e){return e.preventDefault(),t.onDelete()}}},[n("svg-icon",{attrs:{icon:"delete"}})],1)])])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-selected-steps"},[t.$root.getObjectLength(t.$root.flowData.flow_config.triggers)||t.$root.getObjectLength(t.$root.flowData.flow_config.actions)?n("div",{staticClass:"wpwh-selected-steps__inner"},[t._l(t.$root.flowData.flow_config.triggers,(function(t,e,i){return n("selected-step",{key:"selected-step-trigger-"+e,staticClass:"wpwh-selected-step",attrs:{stepData:t,stepId:e,stepIndex:i,stepNumber:i+1,item:t,stepType:"trigger"}})})),t._v(" "),t._l(t.$root.flowData.flow_config.actions,(function(t,e,i){return n("selected-step",{key:"selected-step-action-"+e,staticClass:"wpwh-selected-step",attrs:{stepData:t,stepId:e,stepIndex:i,stepNumber:i+2,item:t,stepType:"action"}})}))],2):n("p",{staticClass:"m-0"},[t._v("No selected steps")])])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-flows-integrations"},t._l(t.$root.integrationsWithTriggers,(function(e){return n("a",{key:e.slug,staticClass:"wpwh-flows-integration",class:{"wpwh-flows-integration--active":t.$root.integrationsModalSelected===e.slug},attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.$root.onIntegrationClick(e)}}},[n("div",{staticClass:"wpwh-flows-integration__inner"},[n("div",{staticClass:"wpwh-flows-integration__icon"},[n("img",{attrs:{src:e.icon.src,alt:e.icon.alt}})]),t._v(" "),n("p",{staticClass:"wpwh-flows-integration__text",domProps:{textContent:t._s(e.name)}})])])})),0)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{directives:[{name:"show",rawName:"v-show",value:t.showDropdownItem,expression:"showDropdownItem"}],staticClass:"flows-variable__sub-item",attrs:{href:"#","data-search":t.example,"data-type":t.type},on:{click:function(e){return e.preventDefault(),t.selectSubItem(t.subItem)}}},[n("strong",[t._v(t._s(t.title||t.value))]),t._v(" "),n("span",{staticClass:"ml-3"},[t._v(t._s(t.modifiedExample))])])},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.parentStep?n("div",{staticClass:"wpwh-flows-step__header",on:{click:function(e){return e.preventDefault(),t.onEdit(e,!0)}}},[t.icon?n("div",{staticClass:"wpwh-flows-step__header-icon"},[n("img",{attrs:{src:t.icon.src,alt:t.icon.alt}})]):t._e(),t._v(" "),n("div",{staticClass:"wpwh-flows-step__header-text"},[n("small",{staticClass:"wpwh-flows-step__header-text"},[n("span",[t._v(t._s(t.position)+". "+t._s(t.typeText))]),t._v(" "),n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("openIntegrationModal")}}},[t._v("Change integration")])]),t._v(" "),n("h3",{directives:[{name:"show",rawName:"v-show",value:!t.showNameField,expression:"! showNameField"}],staticClass:"wpwh-flows-step__title",on:{click:t.onEditName}},[t.parentStep.dStepData.name?n("span",[t._v(t._s(t.parentStep.dStepData.name))]):n("span",[t._v(t._s(t.parentStep.integrationData.name))])]),t._v(" "),n("h3",{directives:[{name:"show",rawName:"v-show",value:t.showNameField,expression:"showNameField"}],staticClass:"wpwh-flows-step__title mt-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.parentStep.dStepData.name,expression:"parentStep.dStepData.name"}],ref:"name-input",domProps:{value:t.parentStep.dStepData.name},on:{focus:t.onFocus,keydown:t.onEnter,blur:t.onBlur,input:function(e){e.target.composing||t.$set(t.parentStep.dStepData,"name",e.target.value)}}})]),t._v(" "),"trigger"===t.type&&t.parentStep.dStepData.trigger?n("small",{staticClass:"wpwh-flows-step__header-trigger"},[t._v("Trigger: "+t._s(t.parentStep.dStepData.trigger))]):t._e(),t._v(" "),"action"===t.type&&t.parentStep.dStepData.action?n("small",{staticClass:"wpwh-flows-step__header-trigger"},[t._v("Action: "+t._s(t.parentStep.dStepData.action))]):t._e()]),t._v(" "),n("div",{staticClass:"wpwh-flows-step__header-actions ml-auto mr-0"},["action"===t.type?n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete this action?",expression:"'Delete this action?'"}],staticClass:"wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.parentStep.deleteAction()}}},[n("fa-icon",{attrs:{icon:"trash"}})],1):t._e(),t._v(" "),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Set custom name for this step.",expression:"'Set custom name for this step.'"}],staticClass:"wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.onEditName.apply(null,arguments)}}},[n("fa-icon",{attrs:{icon:"pencil-alt"}})],1),t._v(" "),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.parentStep.collapsed?"hide step settings":"show step settings",expression:"parentStep.collapsed ? 'hide step settings' : 'show step settings'"}],staticClass:"wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.onEdit.apply(null,arguments)}}},[t.parentStep.collapsed?n("fa-icon",{attrs:{icon:"chevron-up"}}):n("fa-icon",{attrs:{icon:"chevron-down"}})],1)])]):t._e()},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wpwh-flows-conditions"},t._l(t.$parent.dStepData.conditionals.conditions,(function(e,i){return n("div",{key:t.stepId+"_condition_"+i,ref:"condition-"+i+"-"+t.stepId,refInFor:!0,staticClass:"wpwh-flows-condition"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"! isLoading"}],staticClass:"wpwh-flows-condition__inner"},[n("div",{staticClass:"wpwh-flows-condition__content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.condition_input&&e.condition_input.value,expression:"condition.condition_input && condition.condition_input.value"}],staticClass:"wpwh-flows-condition__input",domProps:{innerHTML:t._s(t.generateConditionWithVars(e.condition_input))}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.condition_operator&&e.condition_operator.value,expression:"condition.condition_operator && condition.condition_operator.value"}],staticClass:"wpwh-flows-condition__operator"},[t._v("\n          "+t._s(e.condition_operator.value)+"\n        ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.condition_value&&e.condition_value.value,expression:"condition.condition_value && condition.condition_value.value"}],staticClass:"wpwh-flows-condition__value",domProps:{innerHTML:t._s(t.generateConditionWithVars(e.condition_value))}})]),t._v(" "),n("div",{staticClass:"wpwh-flows-condition__actions"},[n("button",{staticClass:"wpwh-flows-condition__edit wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",on:{click:function(e){return e.preventDefault(),t.$root.openAddConditionalModal(t.stepType,"edit",t.stepId,t.stepIndex,i)}}},[n("fa-icon",{attrs:{icon:"pencil-alt"}})],1),t._v(" "),n("button",{staticClass:"wpwh-flows-condition__edit wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",on:{click:function(e){return e.preventDefault(),t.$delete(t.conditions,i)}}},[n("fa-icon",{attrs:{icon:"trash"}})],1)])])])})),0)},o=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:{el:t.id},expression:"{ el: id }"}],staticClass:"wpwh-selected-step",attrs:{href:t.id}},[t.integration.icon?n("span",{staticClass:"wpwh-selected-step__icon"},[n("img",{attrs:{src:t.integration.icon.src,alt:t.integration.icon.alt}})]):t._e(),t._v(" "),n("span",{staticClass:"wpwh-selected-step__text"},[t._v(t._s(t.stepNumber)+". "+t._s(t.stepData.name||t.integration.name))])])},o=[]},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(i=n(93))&&i.__esModule,e.default={props:{stepType:{required:!0,type:String},stepId:{required:!0,type:[String,Number]},stepIndex:{required:!0,type:Number},step:{required:!0,type:Object},validationStep:{type:Boolean,default:!1}},data:function(){return{collapsed:!0,configTypeName:"triggers",inProgress:!1,stepLoaded:!1,settingsLoading:!1,currentSubStep:"",subStepOpened:!1,subStepContinueLoading:!1,showAdvancedFields:!1,requiredFields:[],logs:[],logsLoading:!1,webhookAction:"",webhookActionLoading:!1}},mounted:function(){var t=this,e=this;this.$nextTick((function(){t.configTypeName="trigger"===t.stepType?"triggers":"actions",t.initOrResetOptions(),t.$events.$on("integration:updated",(function(n,i,o){o===t.stepId&&(e.dStepData.integration=i,e.resetFlowData())})),t.$events.$on("step-condition:added",(function(n,i){var o=t.$root.jsonDetach(i);e.dStepData.conditionals.conditions||Vue.set(e.dStepData.conditionals,"conditions",[]),n===t.stepId&&e.dStepData.conditionals.conditions.push(o)})),t.$events.$on("step-condition:updated",(function(n,i,o){var a=t.$root.jsonDetach(o);e.dStepData.conditionals.conditions||Vue.set(e.dStepData.conditionals,"conditions",[]),n===t.stepId&&(e.dStepData.conditionals.conditions[i]=a)}));var n=e.$root.flowData.flow_config[t.configTypeName];e.dStepData.integration=n[e.stepId].integration||"",e.dStepData.subSteps=n[e.stepId].subSteps||{},e.dStepData.testType=n[e.stepId].testType||"",e.dStepData.log=n[e.stepId].log||"",e.dStepData.name=n[e.stepId].name||"",e.dStepData.conditionals=n[e.stepId].conditionals||{relation:"all",conditions:[]},"trigger"===e.stepType?e.dStepData.trigger=e.$root.flowData.flow_config.triggers[e.stepId].trigger||"":e.dStepData.action=e.$root.flowData.flow_config.actions[e.stepId].action||"",n[e.stepId].fields&&(e.dStepData.fields=e.$root.jsonDetach(n[e.stepId].fields)),"log"===e.dStepData.testType&&e.fetchLogs(),"fire"===e.dStepData.testType&&(e.webhookAction=e.step.variableData),e.dStepData.trigger&&e.populateSettings(e.dStepData.trigger),e.dStepData.action&&e.populateSettings(e.dStepData.action),t.defineSubSteps(),t.isAllStepsDone&&(t.collapsed=!1)}))},methods:{resetFlowData:function(){this.dStepData.action="",this.dStepData.trigger="",this.dStepData.fields={},this.dStepData.subSteps={},this.dStepData.testType="",this.dStepData.log="",this.initOrResetOptions(),this.defineSubSteps(),this.saveStepSettings()},initOrResetOptions:function(){if(this.chooseOptions=[],this.integrationData[this.configTypeName])for(var t in this.integrationData[this.configTypeName])if(Object.hasOwnProperty.call(this.integrationData[this.configTypeName],t)){var e=this.integrationData[this.configTypeName][t];this.chooseOptions.push({id:t,text:e.name})}},fetchLogs:function(){var t=this;t.logsLoading=!0,t.logs=[],t.$root.request.post("get_logs",{flow_id:t.$root.flowId,step_id:t.stepId,integration:t.dStepData.integration,trigger:t.dStepData.trigger,wpwh_action:t.dStepData.action}).then((function(e){setTimeout((function(){t.logsLoading=!1}),1e3),!0===e.success&&(t.logs=e.data.result)})).catch((function(e){setTimeout((function(){t.logsLoading=!1}),1e3)}))},fireWebhookAction:function(){var t=this;t.webhookActionLoading=!0,t.webhookAction="",t.$root.request.post("fire_action",{flow_id:t.$root.flowId,step_data:t.dStepData,step_id:t.stepId,integration:t.dStepData.integration,wpwh_action:t.dStepData.action,trigger:t.dStepData.trigger}).then((function(e){setTimeout((function(){t.webhookActionLoading=!1}),1e3),!0===e.success&&(t.webhookAction=e.data.result)})).catch((function(e){setTimeout((function(){t.webhookActionLoading=!1}),1e3)}))},reloadLogs:function(){this.dStepData.log="",this.fetchLogs()},onTestTypeChange:function(t){this.webhookAction="","log"===t.target.value?this.reloadLogs():this.dStepData.log=""},defineSubSteps:function(){var t=this;for(var e in t.dStepData.subSteps.choose||Vue.set(t.dStepData.subSteps,"choose",{status:"active"}),t.validationStep&&!t.dStepData.subSteps.validation&&Vue.set(t.dStepData.subSteps,"validation",{status:"pending"}),t.dStepData.subSteps.setup||Vue.set(t.dStepData.subSteps,"setup",{status:"pending"}),t.dStepData.subSteps.test||Vue.set(t.dStepData.subSteps,"test",{status:"pending"}),t.dStepData.subSteps)Object.hasOwnProperty.call(t.dStepData.subSteps,e)&&"active"===t.dStepData.subSteps[e].status&&(t.currentSubStep=e)},onChooseChange:function(t){this.populateSettings(t)},populateSettings:function(t){var e=this;if(e.enableSettingsLoader(),t){if("trigger"===e.stepType?(e.dStepData.trigger=t,e.$root.flowData.flow_trigger=t):e.dStepData.action=t,"action"===e.stepType)for(var n in e.stepParameter)if(Object.hasOwnProperty.call(e.stepParameter,n)){var i=e.stepParameter[n];e.dStepData.fields[n]?e.dStepData.fields[n].field_type=i.type:Vue.set(e.dStepData.fields,n,{field_type:i.type,name:n,value:"",type:"argument",mappings:{}}),"select"===i.type&&(e.dStepData.fields[n].multiple=i.multiple)}for(var o in e.integrationSettings)if(Object.hasOwnProperty.call(e.integrationSettings,o)){var r,s=e.integrationSettings[o];e.dStepData.fields[o]?e.dStepData.fields[o].field_type=s.type:Vue.set(e.dStepData.fields,o,(a(r={type:s.type,name:o,value:""},"type","setting"),a(r,"mappings",{}),r)),"select"===s.type&&(e.dStepData.fields[o].multiple=s.multiple)}}else"trigger "===e.stepType?e.dStepData.trigger=t:e.dStepData.action=t,e.dStepData.fields={},"choose"===e.currentSubStep&&(e.dStepData.subSteps.choose.status="pending")},enableSettingsLoader:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;this.settingsLoading||(this.settingsLoading=!0,setTimeout((function(){t.settingsLoading=!1}),e))},onContinue:function(t){var e=this;this.subStepContinueLoading=!0,setTimeout((function(){e.subStepContinueLoading=!1,"conditional"===t?e.currentSubStep="":(e.showNextStep(),e.dStepData.subSteps[t]&&(e.dStepData.subSteps[t].status="done"),setTimeout((function(){e.$scrollTo("#"+e.$attrs.id)}),200))}),1e3),"choose"===t?this.requiredFields=[]:"test"===t?this.$events.$emit("update-variable-dropdown",this.stepId):("setup"===t||"conditional"===t)&&(this.webhookAction=""),this.saveStepSettings(),this.$root.updateFlow(!1)},saveStepSettings:function(){this.stepType;var t=this.stepId,e=this.dStepData,n=this.configTypeName;n&&this.$root.flowData.flow_config[n]&&this.$root.flowData.flow_config[n][t]&&(this.$root.flowData.flow_config[n][t].integration=e.integration||"",this.$root.flowData.flow_config[n][t].subSteps=e.subSteps||{},this.$root.flowData.flow_config[n][t].testType=e.testType||"",this.$root.flowData.flow_config[n][t].log=e.log||"",this.$root.flowData.flow_config[n][t].fields=e.fields||{},this.$root.flowData.flow_config[n][t].variableData=this.variableData||{},this.$root.flowData.flow_config[n][t].name=e.name||"",this.$root.flowData.flow_config[n][t].conditionals=e.conditionals||{relation:"all",conditions:[]},"trigger"===this.stepType?this.$root.flowData.flow_config[n][t].trigger=e.trigger||"":this.$root.flowData.flow_config[n][t].action=e.action||"")},deleteAction:function(){var t=this;this.inProgress=!0,this.$root.flowData.flow_config.actions[this.stepId]&&this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&t.$delete(t.$root.flowData.flow_config.actions,t.stepId),t.inProgress=!1}))},showNextStep:function(){var t="",e=Object.keys(this.dStepData.subSteps);if(this.currentSubStep){var n=e.indexOf(this.currentSubStep)+1;t=e[n],this.dStepData.subSteps[t]&&(this.dStepData.subSteps[t].status="active")}else t=e[0];this.currentSubStep=t},toggleSubStep:function(t){this.currentSubStep!==t?this.currentSubStep=t:this.currentSubStep=""},isRequiredField:function(t){this.dStepData.fields[t]&&(this.requiredFields.includes(t)||this.requiredFields.push(t))},updateFlowName:function(){this.saveStepSettings(),this.$root.updateFlow(!1)},updateConditionalsRelation:function(t){var e=this.$root.jsonDetach(t);this.dStepData.conditionals.relation="object"===(void 0===e?"undefined":o(e))?e[0]:e}},computed:{integrationData:function(){return this.$root.filterIntegration(this.step.integration)},showAddNextBtn:function(){return Object.keys(this.triggers).length&&Object.keys(this.actions).length},triggers:function(){return this.$root.flowData.flow_config.triggers},actions:function(){return this.$root.flowData.flow_config.actions},isChooseStepPending:function(){return this.dStepData.subSteps.choose&&"pending"===this.dStepData.subSteps.choose.status},isValidationStepPending:function(){return this.dStepData.subSteps.validation&&"pending"===this.dStepData.subSteps.validation.status},isSetupStepPending:function(){return this.dStepData.subSteps.setup&&"pending"===this.dStepData.subSteps.setup.status},isTestStepPending:function(){return this.dStepData.subSteps.test&&"pending"===this.dStepData.subSteps.test.status},isCondtionalStepPending:function(){return this.dStepData.subSteps.conditional&&"pending"===this.dStepData.subSteps.conditional.status},isChooseStepActive:function(){return this.dStepData.subSteps.choose&&"active"===this.dStepData.subSteps.choose.status},isValidationStepActive:function(){return this.dStepData.subSteps.validation&&"active"===this.dStepData.subSteps.validation.status},isSetupStepActive:function(){return this.dStepData.subSteps.setup&&"active"===this.dStepData.subSteps.setup.status},isTestStepActive:function(){return this.dStepData.subSteps.test&&"active"===this.dStepData.subSteps.test.status},isConditionalStepActive:function(){return this.dStepData.subSteps.conditional&&"active"===this.dStepData.subSteps.conditional.status},isChooseStepDone:function(){return this.dStepData.subSteps.choose&&"done"===this.dStepData.subSteps.choose.status},isValidationStepDone:function(){return this.dStepData.subSteps.validation&&"done"===this.dStepData.subSteps.validation.status},isSetupStepDone:function(){return this.dStepData.subSteps.setup&&"done"===this.dStepData.subSteps.setup.status},isTestStepDone:function(){return this.dStepData.subSteps.test&&"done"===this.dStepData.subSteps.test.status},isConditionalStepDone:function(){return this.dStepData.subSteps.conditional&&"done"===this.dStepData.subSteps.conditional.status},isAllStepsDone:function(){return this.dStepData.subSteps.validation?this.isChooseStepDone&&this.isValidationStepDone&&this.isSetupStepDone&&this.isTestStepDone:this.isChooseStepDone&&this.isSetupStepDone&&this.isTestStepDone},getLogData:function(){var t=this,e=this.logs.filter((function(e){return e.id===t.dStepData.log}));return e.length?e[0]:{}},showingLogData:function(){var t=this;return"log"===this.dStepData.testType&&this.dStepData.log&&this.logs.filter((function(e){return e.id===t.dStepData.log})).length},hasEmptyRequiredFields:function(){var t=this,e=!1;return this.requiredFields.forEach((function(n){t.dStepData.fields[n]&&!t.dStepData.fields[n].value&&(e=!0)})),e},showingReturnsCode:function(){return"trigger"===this.stepType?"static"===this.dStepData.testType&&this.integrationData.triggers[this.dStepData.trigger]:"static"===this.dStepData.testType&&this.integrationData.actions[this.dStepData.action]},showingWebhookAction:function(){return"fire"===this.dStepData.testType},variableData:function(){return this.showingReturnsCode?"trigger"===this.stepType?this.integrationData.triggers[this.dStepData.trigger].returns_code:this.integrationData.actions[this.dStepData.action].returns_code:this.showingLogData?this.$root.jsonParse(this.getLogData.content):this.showingWebhookAction?this.webhookAction:{}},isCollapsed:function(){return this.collapsed},stepHasConditions:function(){return!!this.dStepData.conditionals.conditions&&this.dStepData.conditionals.conditions.length>0}}}},,,,function(t,e,n){"use strict";n.r(e);var i=n(124),o=n(29);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(122),o=n(45);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},,,,,,function(t,e,n){"use strict";var i=L(n(166)),o=L(n(168)),a=n(187),r=L(n(188)),s=L(n(189)),l=L(n(190)),d=L(n(191)),u=L(n(192)),c=L(n(193)),p=L(n(279)),f=L(n(280)),h=n(4),g=n(281),v=n(282),w=L(n(283)),m=L(n(303)),_=L(n(304)),b=L(n(305)),S=L(n(306)),y=L(n(307)),D=L(n(308)),C=L(n(309)),x=L(n(318)),$=L(n(319)),k=L(n(321)),O=L(n(322)),T=L(n(323)),M=L(n(324)),F=L(n(325)),I=L(n(326)),q=L(n(327));function L(t){return t&&t.__esModule?t:{default:t}}window.Vue=i.default,i.default.prototype.$http=o.default,window.axios=o.default,window.insertParamToUrl=a.insertParamToUrl,window.parseQueryString=a.parseQueryString,window.getParamFromUrl=a.getParamFromUrl,i.default.use(l.default),i.default.use(c.default,{defaultOffset:10,defaultTemplate:'<div class="v-tooltip" role="tooltip"><div class="v-tooltip-arrow"></div><div class="v-tooltip-inner"></div></div>',defaultArrowSelector:".v-tooltip-arrow, .v-tooltip__arrow",defaultInnerSelector:".v-tooltip-inner, .v-tooltip__inner",defaultContainer:".wpwh-flows"}),i.default.use(p.default,{confirmButtonClass:"wpwh-btn wpwh-btn--primary",cancelButtonClass:"wpwh-btn wpwh-btn--secondary"}),h.library.add(g.faPencilAlt,g.faTrash,g.faTrashAlt,g.faChevronUp,g.faChevronDown,g.faInfoCircle),i.default.component("fa-icon",v.FontAwesomeIcon),i.default.config.productionTip=!1,i.default.component("v-select",f.default),i.default.use(r.default),i.default.use(u.default,{offset:-(document.getElementById("wpadminbar").clientHeight+10)}),i.default.component("form-field",y.default),i.default.component("form-label",S.default),i.default.component("wysiwyg-field",D.default),i.default.component("variable-field",C.default),i.default.component("input-field",k.default),i.default.component("textarea-field",O.default),i.default.component("select-field",x.default),i.default.component("select2",$.default),i.default.component("links-field",T.default),i.default.component("repeater-field",M.default),i.default.component("toggle-field",F.default),i.default.component("radio-field",I.default),i.default.component("nl2br",s.default),i.default.component("svg-icon",m.default),i.default.component("loader",_.default),i.default.component("accordion-trigger",b.default),i.default.directive("click-outside",d.default);var j=new i.default({el:"#wpwh-flows",mixins:[q.default],components:{App:w.default},mounted:function(){}});window.wpwhFlowsVM=j},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=((i=n(169))&&i.__esModule?i:{default:i}).default.create({baseURL:""});e.default=o},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";t.exports={insertParamToUrl:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=document.location.search.substr(1).split("&");if(t){t=encodeURI(t),e=e?encodeURI(e):"";for(var a,r=o.length;r--;)if((a=o[r].split("="))[0]==t){a[1]=e,o[r]=a.join("=");break}r<0&&(o[o.length]=[t,e].join("="))}var s=window.location.origin+(n||window.location.pathname),l=s+"?"+o.join("&")+window.location.hash;return i&&window.history.replaceState(null,null,l),l},parseQueryString:function(t){for(var e=t.split("&"),n={},i=0;i<e.length;i++){var o=e[i].split("="),a=decodeURIComponent(o[0]),r=decodeURIComponent(o[1]);if(void 0===n[a])n[a]=decodeURIComponent(r);else if("string"==typeof n[a]){var s=[n[a],decodeURIComponent(r)];n[a]=s}else n[a].push(decodeURIComponent(r))}return n},getParamFromUrl:function(t,e){var n,i,o=(e||decodeURIComponent(window.location.search.substring(1))).split("&");for(i=0;i<o.length;i++)if((n=o[i].split("="))[0]===t)return void 0===n[1]||n[1]}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var i=n(95),o=n(21);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(111),o=n(23);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(113),o=n(25);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(118),o=n(27);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},,,,,,,,,function(t,e,n){"use strict";n.r(e);var i=n(119),o=n(31);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(125),o=n(33);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(114),o=n(35);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(120),o=n(37);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(121),o=n(39);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(126),o=n(41);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(115),o=n(43);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(116),o=n(47);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(96),o=n(49);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(97),o=n(51);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(98),o=n(53);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(99),o=n(55);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(100),o=n(57);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(101),o=n(59);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(102),o=n(61);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},,,,,,function(t,e,n){"use strict";n.r(e);var i=n(112),o=n(63);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(117),o=n(65);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(123),o=n(67);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(103),o=n(69);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(104),o=n(71);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},,function(t,e,n){"use strict";n.r(e);var i=n(105),o=n(73);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(106),o=n(75);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(107),o=n(77);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(108),o=n(79);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(109),o=n(81);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(110),o=n(83);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=s(n(328)),r=(s(n(329)),n(330));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.Request=a.default,e.default={components:{},data:function(){return{wpEditor:null,flowDataLoaded:!1,integrationsLoaded:!1,flowNotExists:!1,flowId:"",flow:null,showWhileTesting:!0,formError:!1,formSuccess:!1,formLoading:!1,reloadVariable:!1,flowStatuses:[],flowConditionLabels:{default:null,conditions:null},flowData:{id:"",flow_title:"",flow_status:"",flow_date:"",flow_trigger:"",receivable_trigger_url:"",flow_config:{triggers:{},actions:{}}},texts:{trigger:"Trigger",action:"Action",triggers_modal_title:"Choose Integration",uppercase_title:"Uppercase title",link:"Link",name:"Name",key:"Key",value:"Value",add_item:"Add item"},integrations:[],integrationsMappings:{},integrationsMappingParent:"",integrationsMappingPrefix:"",integrationsMappingCount:0,integrationsModalFlowType:"",integrationsModalFlowStepId:"",integrationsModalFlowStepIndex:"",integrationsModalFlowInsertAfterIndex:"",integrationsModalSelected:"",flowConditionsModal:{action:"",stepType:"",stepIndex:"",stepId:"",conditionId:""},request:new a.default({url:ironikusflows.ajax_url,action:"ironikus_flows_handler",ironikusflows_nonce:ironikusflows.ajax_nonce,language:ironikusflows.language}),commonTags:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.flowId=getParamFromUrl("flow_id"),t.fetchFlow(),t.fetchFlowConditionLabels(),t.fetchFlowStatuses(),t.fetchCommonTags(),t.$events.$on("fetch-flow:success",(function(){t.initFlow(),setTimeout((function(){t.flowDataLoaded=!0}),1e3)})),t.$events.$on("fetch-flow:error",(function(){return t.flowNotExists=!0})),t.fetchIntegrations(),t.$events.$on("fetch-integrations:success",(function(){setTimeout((function(){t.integrationsLoaded=!0}),1e3)})),t.wpEditor=wp.editor}))},methods:(i={fetchFlow:function(){var t=this;t.$events.$emit("fetch-flow:started"),this.request.post("get_flow",{flow_id:t.flowId}).then((function(e){!0===e.success?(t.flow=e.data.result,t.$events.$emit("fetch-flow:success")):t.$events.$emit("fetch-flow:error")})).catch((function(e){t.$events.$emit("fetch-flow:error",e)}))},fetchFlowConditionLabels:function(){var t=this;this.request.post("get_flow_condition_labels").then((function(e){!0===e.success&&(Vue.set(t.flowConditionLabels,"default",e.data.result.default),Vue.set(t.flowConditionLabels,"conditions",e.data.result.conditions))}))},fetchFlowStatuses:function(){var t=this;t.$events.$emit("fetch-flow-statuses:started"),this.request.post("get_flow_status_labels").then((function(e){!0===e.success?(t.flowStatuses=e.data.result,t.$events.$emit("fetch-flow-statuses:success")):t.$events.$emit("fetch-flow-statuses:error")})).catch((function(e){t.$events.$emit("fetch-flow-statuses:error",e)}))},fetchCommonTags:function(){var t=this;t.$events.$emit("fetch-common-tags:started"),this.request.post("get_flow_common_tags").then((function(e){!0===e.success?(t.commonTags=e.data.result,t.$events.$emit("fetch-common-tags:success")):t.$events.$emit("fetch-common-tags:error")})).catch((function(e){t.$events.$emit("fetch-common-tags:error",e)}))},fetchReceivableTriggerUrl:function(){var t=this;this.request.post("get_receivable_trigger_url",{flow_id:this.flowId,trigger:this.flowData.flow_trigger}).then((function(e){!0===e.success&&(t.flowData.receivable_trigger_url=e.data.settings_value,t.$events.$emit("receivable-trigger-url-loaded",e.data.settings_value))}))},initFlow:function(){var t=this;t.flowData.id=t.flow.id,t.flowData.flow_title=t.flow.flow_title,t.flowData.flow_status=t.flow.flow_status,t.flowData.flow_trigger=t.flow.flow_trigger,t.flowData.flow_date=t.flow.flow_date,t.flow.flow_config&&t.flow.flow_config.triggers&&(t.flowData.flow_config.triggers=t.flow.flow_config.triggers),t.flow.flow_config&&t.flow.flow_config.actions&&(t.flowData.flow_config.actions=t.flow.flow_config.actions),t.$events.$emit("flow-loaded")},updateFlow:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this;e.$events.$emit("loading-flow:started"),e.$events.$emit("save-flow:started"),this.request.post("update_flow",{flow_id:e.flowId,flow_title:e.flowData.flow_title,flow_status:e.flowData.flow_status,flow_trigger:e.flowData.flow_trigger,flow_config:{triggers:e.flowData.flow_config.triggers,actions:e.flowData.flow_config.actions}}).then((function(n){e.$events.$emit("loading-flow:done",n.data?n.data.msg:""),!0===n.success?(e.$events.$emit("save-flow:success",n.data.msg),t&&e.$swal.fire({title:"Success!",html:n.data.msg,icon:"success",timer:1e3})):(e.$events.$emit("save-flow:error",n.data.msg),e.$swal.fire("Error!",n.data.msg,"error"))})).catch((function(t){var n=t.data?t.data.msg:"";e.$events.$emit("loading-flow:done",n),e.$events.$emit("save-flow:error",n),e.$swal.fire("Error!",n,"error")}))},deleteFlow:function(){var t=this;t.$events.$emit("loading-flow:started"),t.$events.$emit("delete-flow:started"),this.request.post("delete_flow",{flow_id:t.flowId}).then((function(e){t.$events.$emit("loading-flow:done",e.data?e.data.msg:""),!0===e.success?(t.$events.$emit("delete-flow:success",e.data.msg),t.$swal.fire("Deleted!","This flow has been deleted.","success")):(t.$events.$emit("delete-flow:error",e.data.msg),t.$swal.fire("Error!","We could not delete this flow.","error"))})).catch((function(e){t.$events.$emit("loading-flow:done",e.data?e.data.msg:""),t.$events.$emit("delete-flow:error",e.data.msg),t.$swal.fire("Error!","We could not delete this flow.","error")}))},fetchIntegrations:function(){var t=this;t.$events.$emit("fetch-integrations:started"),this.request.post("get_integrations",{}).then((function(e){!0===e.success?(t.integrations=e.data.result,t.integrationLoaded=!0,t.$events.$emit("fetch-integrations:success")):t.$events.$emit("fetch-integrations:error")})).catch((function(e){t.$events.$emit("fetch-integrations:error")}))},updateIntegrationsMapping:function(t){var e=this,n=this;t.forEach((function(t){for(var i in n.integrationsMappings[t.slug]={actions:{},triggers:{}},t.triggers)if(Object.hasOwnProperty.call(t.triggers,i)){var o=t.triggers[i],a=e.mappingConnector(i);n.integrationsMappingCount=0,n.integrationsMappingParent=a,n.integrationsMappingPrefix="",n.giveMeAMoment({prefix:a,data:o.returns_code},"trigger",i,t.slug)}}))},giveMeAMoment:function(t,e,n,i){var a=this,s=t.prefix;for(var l in a.integrationsMappingCount=a.integrationsMappingCount+1,t.data)if(Object.hasOwnProperty.call(t.data,l)){var d=t.data[l],u=s+a.mappingConnector(l);"string"==typeof d||"number"==typeof d||null===d||void 0===(void 0===d?"undefined":o(d))?"trigger"===e&&(r.Base64.encode(u),a.integrationsMappings[i].triggers[n]||(a.integrationsMappings[i].triggers[n]=[])):d&&"object"===(void 0===d?"undefined":o(d))&&(a.giveMeAMoment({prefix:u,data:d},e,n,i),a.integrationsMappingCount=a.integrationsMappingCount-1)}},giveMeAMoment2:function(t,e){var n=this,i={prefix:t.prefix,data:{}};for(var a in n.integrationsMappingCount=n.integrationsMappingCount+1,n.integrationsMappingPrefix=t.prefix,t.data)if(Object.hasOwnProperty.call(t.data,a)){var r=t.data[a],s=n.integrationsMappingPrefix+n.mappingConnector(a);if(n.integrationsMappingParent=n.integrationsMappingPrefix,n.integrationsMappingPrefix=s,"string"==typeof r||"number"==typeof r||null===r||void 0===(void 0===r?"undefined":o(r)));else if(r&&"object"===(void 0===r?"undefined":o(r))){n.integrationsMappingPrefix=s;var l=n.giveMeAMoment({prefix:i.prefix,data:r},e);n.integrationsMappingCount=n.integrationsMappingCount-1,n.integrationsMappingPrefix=n.integrationsMappingParent,i.prefix=l.prefix,i.data=l.data}}return i},getNestedMapping:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this,a={origPrefix:n,data:{}};for(var s in t)if(Object.hasOwnProperty.call(t,s)){var l=t[s],d=void 0===l?"undefined":o(l);if(n=i.mappingConnector(s,n),"string"===d||"number"===d||null==l){var u=i.mappingConnector(s,n);a.data[r.Base64.encode(u)]={mapping:[],name:e}}else if(l&&"object"===d){var c=i.getNestedMapping(l,e,n);n=c.origPrefix,a.data=c.data}}return a},getNestedMapping2:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this,a={};for(var s in t)if(Object.hasOwnProperty.call(t,s)){var l=t[s],d=void 0===l?"undefined":o(l);if("string"===d||"number"===d||null==l){var u=i.mappingConnector(s,n);a[r.Base64.encode(u)]={mapping:[],name:e}}else l&&"object"===d&&(n=i.mappingConnector(s,n),a[s]=i.getNestedMapping(l,e,n))}return a},mappingConnector:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e+"{"+t+"}"},mappingConnectorToArray:function(t){for(var e,n=[],i=/{([^}]+)}/g;e=i.exec(t);)n.push(e[1]);return n},openIntegrationsModal:function(t,e,n,i){this.integrationsModalFlowType=t,this.integrationsModalFlowStepId=e||"",this.integrationsModalSelected=n||"",this.integrationsModalFlowInsertAfterIndex=this.isValidIndex(i)||-1===i?i:"",this.$modal.show("integrations-modal",{width:681})},closeIntegrationsModal:function(){this.$modal.hide("integrations-modal")},openAddConditionalModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",n=arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";this.resetAddConditionalModal(),this.flowConditionsModal.action=e,this.flowConditionsModal.stepType=t,this.flowConditionsModal.stepIndex=i,this.flowConditionsModal.stepId=n,this.flowConditionsModal.conditionId=o,this.$modal.show("add-condition-modal",{width:881,stepId:n})},closeAddConditionalModal:function(t,e){if("save"===t){var n=this.flowData.flow_config.actions[this.flowConditionsModal.stepId].conditionals;this.flowConditionsModal.action,""!==this.flowConditionsModal.conditionId?n.conditions[this.flowConditionsModal.conditionId]&&this.$events.$emit("step-condition:updated",this.flowConditionsModal.stepId,this.flowConditionsModal.conditionId,e):this.$events.$emit("step-condition:added",this.flowConditionsModal.stepId,e)}this.$modal.hide("add-condition-modal"),this.resetAddConditionalModal()},resetAddConditionalModal:function(){this.flowConditionsModal.action="",this.flowConditionsModal.stepType="",this.flowConditionsModal.stepIndex="",this.flowConditionsModal.stepId="",this.flowConditionsModal.conditionId=""},onIntegrationClick:function(t){t&&t.slug&&("trigger"!==this.integrationsModalFlowType&&"action"!==this.integrationsModalFlowType||(""!==this.integrationsModalFlowStepId?this.changeFlowStepIntegration(this.integrationsModalFlowType,t.slug,this.integrationsModalFlowStepId):this.addFlowStep(this.integrationsModalFlowType,t.slug,this.integrationsModalFlowInsertAfterIndex))),this.closeIntegrationsModal()},addFlowStep:function(t,e,n){var i=this;if(e&&("trigger"===t||"action"===t)){var o="trigger"===t?"triggers":"actions",a={integration:e},r=(this.getObjectLength(this.flowData.flow_config[o]),this.flowStepIdGenerate());this.isValidIndex(n)||-1===n?this.flowData.flow_config[o]=this.addToObject(this.flowData.flow_config[o],r,a,n):Vue.set(this.flowData.flow_config[o],r,a);var s=this.getObjectLength(this.flowData.flow_config[o]);this.$events.$emit("integration:added",t,e,s-1),setTimeout((function(){i.$scrollTo("#flowStepAction-"+r)}),500)}},getObjectLength:function(t){return Object.keys(t).length},flowStepIdGenerate:function(){return this.randId()},addToObject:function(t,e,n,i){var o={},a=0;for(var r in t)t.hasOwnProperty(r)&&(-1===i&&e&&n&&(o[e]=n),o[r]=t[r],a===i&&e&&n&&(o[e]=n),a++);return!i&&e&&n&&(o[e]=n),o},randId:function(){return Math.random().toString(36).slice(2)},changeFlowStepIntegration:function(t,e,n){if((e||this.isValidIndex(n))&&("trigger"===t||"action"===t)){var i="trigger"===t?"triggers":"actions";this.flowData.flow_config[i][n]&&(this.flowData.flow_config[i][n].integration=e,this.$events.$emit("integration:updated",t,e,n))}},isValidIndex:function(t){return void 0!==t&&""!==t&&t>=0},jsonDetach:function(t){return JSON.parse(JSON.stringify(t))},jsonParse:function(t){return JSON.parse(t)},filterIntegration:function(t){var e=this.integrations.filter((function(e){return e.slug===t}));return e.length?this.jsonDetach(e[0]):{}},getIntegrationData:function(t){return this.$root.filterIntegration(t)},getIntegrationTriggerSettings:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getIntegrationData(t);return i&&i.triggers&&i.triggers[e]&&i.triggers[e].settings?i.triggers[e].settings.data:n},getIntegrationActionSettings:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getIntegrationData(t);return i&&i.actions&&i.actions[e]&&i.actions[e].settings?i.actions[e].settings.data:n},getIntegrationActionParameter:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getIntegrationData(t);return i&&i.actions&&i.actions[e]&&i.actions[e].parameter?i.actions[e].parameter:n}},l(i,"getIntegrationActionSettings",(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getIntegrationData(t);return i&&i.actions&&i.actions[e]&&i.actions[e].settings?i.actions[e].settings.data:n})),l(i,"getIntegrationMeta",(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this.filterIntegration(t);return i[e]?i[e]:n})),l(i,"base64encode",(function(t){return r.Base64.encode(t)})),l(i,"base64decode",(function(t){return r.Base64.decode(t)})),l(i,"validateResponseObject",(function(t){var e=this,n={};for(var i in t)if(t.hasOwnProperty(i))if("string"==typeof t[i]||"number"==typeof t[i]||null===t[i]||void 0===o(t[i]))n[e.mappingConnector(i)]=t[i];else if(t[i]&&"object"===o(t[i])){var a=this.validateResponseObject(t[i]);for(var r in n[e.mappingConnector(i)]=JSON.stringify(t[i]),a)a.hasOwnProperty(r)&&(n[e.mappingConnector(i)+r]=a[r])}return n})),l(i,"truncate",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return t.length>e?t.substring(0,e)+"…":t})),l(i,"copyToClipboard",(function(t){var e=document.createElement("textarea");e.style.width="0px",e.style.height="0px",e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)})),l(i,"getActionsKeys",(function(){return Object.keys(this.flowData.flow_config.actions)})),l(i,"prepareFieldData",(function(t){var e=this.jsonDetach(t);return void 0===e.label&&(Vue.set(e,"label",""),e.label=""),e})),l(i,"isObject",(function(t){return"[object Object]"===Object.prototype.toString.call(t)})),l(i,"numToString",(function(t){var e=this,n=t;return"number"==typeof t&&0!==t?n=t.toString():Array.isArray(t)&&(n=[],t.forEach((function(t){n.push(e.numToString(t))}))),n})),i),computed:{flowLoaded:function(){return this.flowDataLoaded&&this.integrationsLoaded&&this.integrations},integrationsWithTriggers:function(){return"action"===this.integrationsModalFlowType?this.integrations.filter((function(t){return Object.keys(t.actions).length>0})):this.integrations.filter((function(t){return Object.keys(t.triggers).length>0}))}},watch:{}}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function e(t){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.originalData=t,t)this[n]=t[n]}return i(e,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(t,"GET",e)}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(t,"POST",e)}},{key:"request",value:function(e,i,o){var a=this;return new Promise((function(r,s){var l={};a.action&&(l.action=a.action),a.ironikusflows_nonce&&!o.ironikusflows_nonce&&(l.ironikusflows_nonce=a.ironikusflows_nonce),a.language&&!o.language&&(l.language=a.language),e&&(l.handler=e);var d=Object.assign(l,o);t.ajax({url:a.url,type:i,data:d,success:function(t){"string"==typeof t||"object"!==(void 0===t?"undefined":n(t))?r(JSON.parse(t)):r(t)},error:function(t){s(t)}})}))}}]),e}();e.default=o}).call(this,n(13))}]);